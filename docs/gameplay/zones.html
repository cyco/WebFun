<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Zones - WebFun</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../open-in.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../architecture/index.html"><strong aria-hidden="true">2.</strong> Project Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../architecture/getting-started.html"><strong aria-hidden="true">2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.2.</strong> Code</div></li><li class="chapter-item expanded "><a href="../architecture/build-system.html"><strong aria-hidden="true">2.3.</strong> Build System</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.</strong> Project Layout</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.5.</strong> Modules</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.6.</strong> Testing</div></li><li class="chapter-item expanded "><a href="../architecture/documentation.html"><strong aria-hidden="true">2.7.</strong> Documentation</a></li></ol></li><li class="chapter-item expanded "><a href="../gameplay/index.html"><strong aria-hidden="true">3.</strong> Gameplay</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../gameplay/main-window.html"><strong aria-hidden="true">3.1.</strong> Main Window</a></li><li class="chapter-item expanded "><a href="../gameplay/color-palette.html"><strong aria-hidden="true">3.2.</strong> Color Palette</a></li><li class="chapter-item expanded "><a href="../gameplay/tiles.html"><strong aria-hidden="true">3.3.</strong> Tiles</a></li><li class="chapter-item expanded "><a href="../gameplay/zones.html" class="active"><strong aria-hidden="true">3.4.</strong> Zones</a></li><li class="chapter-item expanded "><a href="../scripting/index.html"><strong aria-hidden="true">3.5.</strong> Scripting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../scripting/conditions.html"><strong aria-hidden="true">3.5.1.</strong> Conditions</a></li><li class="chapter-item expanded "><a href="../scripting/instructions.html"><strong aria-hidden="true">3.5.2.</strong> Instructions</a></li></ol></li><li class="chapter-item expanded "><a href="../gameplay/score.html"><strong aria-hidden="true">3.6.</strong> Score</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.7.</strong> Settings</div></li><li class="chapter-item expanded "><a href="../gameplay/map-screen.html"><strong aria-hidden="true">3.8.</strong> Map Screen</a></li><li class="chapter-item expanded "><a href="../gameplay/r2d2-help.html"><strong aria-hidden="true">3.9.</strong> R2D2 Help</a></li><li class="chapter-item expanded "><a href="../gameplay/cheats.html"><strong aria-hidden="true">3.10.</strong> Cheats</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.11.</strong> Debug Mode</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> World Generation</div></li><li class="chapter-item expanded "><a href="../files/index.html"><strong aria-hidden="true">5.</strong> Files</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">5.1.</strong> DTA / DAW</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.2.</strong> Save Games</div></li><li class="chapter-item expanded "><a href="../files/yodesk-ini.html"><strong aria-hidden="true">5.3.</strong> Yodesk.ini</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Strings</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Indy's Desktop Adventures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> The Demo</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> The Patch</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Yoda Stories</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../yoda/releases.html"><strong aria-hidden="true">7.1.</strong> Releases</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> The Demo</div></li><li class="chapter-item expanded "><a href="../yoda/patch/index.html"><strong aria-hidden="true">7.3.</strong> The Patch</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../yoda/patch/zone-072.html"><strong aria-hidden="true">7.3.1.</strong> Zone 72</a></li><li class="chapter-item expanded "><a href="../yoda/patch/zone-236.html"><strong aria-hidden="true">7.3.2.</strong> Zone 236</a></li><li class="chapter-item expanded "><a href="../yoda/patch/zone-407.html"><strong aria-hidden="true">7.3.3.</strong> Zone 407</a></li><li class="chapter-item expanded "><a href="../yoda/patch/zone-474.html"><strong aria-hidden="true">7.3.4.</strong> Zone 474</a></li><li class="chapter-item expanded "><a href="../yoda/patch/zone-572.html"><strong aria-hidden="true">7.3.5.</strong> Zone 572</a></li></ol></li><li class="chapter-item expanded "><a href="../yoda/trivia.html"><strong aria-hidden="true">7.4.</strong> Trivia</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../appendix/yodesk.html">Yodesk.ksy</a></li><li class="chapter-item expanded affix "><a href="../appendix/deskadv.html">Deskadv.ksy</a></li><li class="chapter-item expanded affix "><a href="../appendix/yodasav.html">Yodasav.ksy</a></li><li class="chapter-item expanded affix "><a href="../appendix/list-of-game-files.html">List of game files</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">WebFun</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/cyco/webfun/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="zones"><a class="header" href="#zones">Zones</a></h1>
<p>Zones are the game's maps, where the hero can walk around, solve puzzles and fight monsters.</p>
<p>They are made up of <code>9x9</code> or <code>10x10</code> tiles in three layers. A ground layer, and object layer, used for collision detection, and a roof layer that is rendered above the hero.</p>
<p>Each zone has a type that is used in the world generation process. See the following table for a list of zone types:</p>
<table><thead><tr><th>Type</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>None</td><td></td></tr>
<tr><td>1</td><td>Empty</td><td>An empty zone</td></tr>
<tr><td>2</td><td>Blockade North</td><td>Blocks access to zones north of this one until solved</td></tr>
<tr><td>3</td><td>Blockade South</td><td>Blocks access to zones south of this one until solved</td></tr>
<tr><td>4</td><td>Blockade East</td><td>Blocks access to zones east of this one until solved</td></tr>
<tr><td>5</td><td>Blockade West</td><td>Blocks access to zones west of this one until solved</td></tr>
<tr><td>6</td><td>Travel Departure</td><td>When solved this allows the player to reach a zone on an island that can otherwise not be reached by moving between zone on the main world</td></tr>
<tr><td>7</td><td>Travel Destination</td><td>Counterpart to <code>Travel Departure</code>. This is where a here will land after traveling from the departure zone. The zones are connected via hotspots of type <code>TravelStart</code> and <code>TravelEnd</code></td></tr>
<tr><td>8</td><td>Room</td><td>Rooms can n not be placed directly on the main world. They can be only be reached through <code>DoorIn</code>/<code>DoorOut</code> hotspots or via <code>ChaneZone</code> instructions.</td></tr>
<tr><td>9</td><td>Load</td><td>This zone is displayed while a new story is generated.</td></tr>
<tr><td>10</td><td>Goal</td><td>Goal zones are used for the final puzzles in each story.</td></tr>
<tr><td>11</td><td>Town / Spaceport</td><td>The starting zone on the main world. Every generated world has exactly one town.</td></tr>
<tr><td>12</td><td>Unknown</td><td></td></tr>
<tr><td>13</td><td>Win</td><td>Shown when the game is won. This zone also displays the score.</td></tr>
<tr><td>14</td><td>Lose</td><td>This zone is shown after the hero has died.</td></tr>
<tr><td>15</td><td>Trade</td><td>A zone where the player has to trade items with an NPC to solve the puzzle.</td></tr>
<tr><td>16</td><td>Use</td><td>In order to solve this zone a tool must be used somewhere on the zone.</td></tr>
<tr><td>17</td><td>Find</td><td><code>Find</code> zones provide an item without requiring anything else to solve them.</td></tr>
<tr><td>18</td><td>Find Unique Weapon</td><td>One of these will be placed close to the town. it provides a unique weapon (<em>The Force</em> in Yoda Stories) to the player.</td></tr>
</tbody></table>
<p>Additionally each zone provides lists of tiles that can be used to solve the puzzle, NPCs that can be used to trade with and tiles that the zone can drop when solved. In the world generation these items are chosen semi-randomly to create a new story every time.</p>
<p>On the world map neighboring zones can be visited by walking off the current zone. Additionally zones are connected through doors.</p>
<p>In order to make zones a little more interesting to play and replay, the game includes a custom scripting language. These <em>actions</em> are defined per zone.</p>
<p>Special points of interest on a zone are marked by <em>hotspots</em>. These locations mark doors, or places where an item can be used or an NPC be placed by the world generator.</p>
<p>In Yoda Stories, every zone belongs to one of the following planets:</p>
<table><thead><tr><th>Planet</th><th> Name</th><th>Description</th></tr></thead><tbody>
<tr><td>1</td><td>Tatooine</td><td>Desert planet, also referred to as Nevada</td></tr>
<tr><td>2</td><td>Hoth</td><td>Snowy ice planet, also referred to as Alaska</td></tr>
<tr><td>3</td><td>Endor</td><td>A forest planet, also referred to as Oregon</td></tr>
<tr><td>5</td><td>Dagobah</td><td>Swamp planet, used in the staring world</td></tr>
</tbody></table>
<h2 id="actions"><a class="header" href="#actions">Actions</a></h2>
<p>Actions can make zones more interactive and dynamic. They are used for example to implement switches and in-game cut-scene animations. Each action is made up of a bunch of conditions and instructions that are executed if all conditions are satisfied.</p>
<p>See <a href="../scripting/index.html">Scripting</a> for a more detailed description of the internal scripting language.</p>
<h2 id="hotspots"><a class="header" href="#hotspots">Hotspots</a></h2>
<p><img src="../images/hotspots.png" alt="Hotspots visualized in debug mode" /></p>
<p>Each hotspot has a position on the map, a type, and a single argument. Unless disabled, hotspots are triggered by placing an item, walking to the location or removing the tile at the object layer underneath the hotspot.</p>
<p>The following table describes the hotspot types and their purpose:</p>
<table><thead><tr><th>Type</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>Drop Quest Item</td><td></td></tr>
<tr><td>1</td><td>Spawn Location</td><td></td></tr>
<tr><td>2</td><td>Drop Unique Weapon</td><td></td></tr>
<tr><td>3</td><td>Vehicle To</td><td>Used in Travel Start zones, to change the zone to the travel target (identified by <code>arg</code>). On the target zone, the hero will be placed at a corresponsing <code>Vehicle Back</code> hotspot.</td></tr>
<tr><td>4</td><td>Vehicle Back</td><td></td></tr>
<tr><td>5</td><td>Drop Map</td><td>Drops the locator</td></tr>
<tr><td>6</td><td>Drop Item</td><td>Drops the item specified in <code>arg</code> when the object layer is free</td></tr>
<tr><td>7</td><td>NPC</td><td>A place where the puzzle NPC from <code>arg</code> can be placed.</td></tr>
<tr><td>8</td><td>Drop Weapon</td><td>Drops the weapon specified in <code>arg</code></td></tr>
<tr><td>9</td><td>Door In</td><td>Connects the zone to the one in <code>arg</code>.</td></tr>
<tr><td>10</td><td>Door Out</td><td>A door leading back to the zone where the player came from</td></tr>
<tr><td>11</td><td>Unused</td><td></td></tr>
<tr><td>12</td><td>Lock</td><td>This is a placeholder for a item in a <code>use</code> zone. Placing the correct item here removes the underlying tile from the object layer.</td></tr>
<tr><td>13</td><td>Teleporter</td><td>A place where the locator view is triggered for telportation</td></tr>
<tr><td>14</td><td>Ship From Planet</td><td></td></tr>
<tr><td>15</td><td>Ship To Planet</td><td>Used on Dagobah to mark the place to switch worlds. The target zone on the main world is specified in <code>arg</code>.</td></tr>
</tbody></table>
<h2 id="monsters"><a class="header" href="#monsters">Monsters</a></h2>
<blockquote>
<p><em>TODO:</em> Describe monster attributes, waypoints, drops, etc.</p>
</blockquote>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/zones.md">Edit this file on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../gameplay/tiles.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../scripting/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../gameplay/tiles.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../scripting/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
