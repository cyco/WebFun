<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>WebFun</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="open-in.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="related-projects.html"><strong aria-hidden="true">2.</strong> Related Projects</a></li><li class="chapter-item expanded "><a href="architecture/index.html"><strong aria-hidden="true">3.</strong> Project Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/getting-started.html"><strong aria-hidden="true">3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Code</div></li><li class="chapter-item expanded "><a href="architecture/build-system.html"><strong aria-hidden="true">3.3.</strong> Build System</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.4.</strong> Project Layout</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.5.</strong> Modules</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.6.</strong> Testing</div></li><li class="chapter-item expanded "><a href="architecture/documentation.html"><strong aria-hidden="true">3.7.</strong> Documentation</a></li><li class="chapter-item expanded "><a href="architecture/deployment.html"><strong aria-hidden="true">3.8.</strong> Deployment</a></li></ol></li><li class="chapter-item expanded "><a href="gameplay/index.html"><strong aria-hidden="true">4.</strong> Gameplay</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="gameplay/main-window.html"><strong aria-hidden="true">4.1.</strong> Main Window</a></li><li class="chapter-item expanded "><a href="gameplay/color-palette.html"><strong aria-hidden="true">4.2.</strong> Color Palette</a></li><li class="chapter-item expanded "><a href="gameplay/tiles.html"><strong aria-hidden="true">4.3.</strong> Tiles</a></li><li class="chapter-item expanded "><a href="gameplay/zones.html"><strong aria-hidden="true">4.4.</strong> Zones</a></li><li class="chapter-item expanded "><a href="scripting/index.html"><strong aria-hidden="true">4.5.</strong> Scripting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="scripting/conditions.html"><strong aria-hidden="true">4.5.1.</strong> Conditions</a></li><li class="chapter-item expanded "><a href="scripting/instructions.html"><strong aria-hidden="true">4.5.2.</strong> Instructions</a></li></ol></li><li class="chapter-item expanded "><a href="gameplay/score.html"><strong aria-hidden="true">4.6.</strong> Score</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.7.</strong> Settings</div></li><li class="chapter-item expanded "><a href="gameplay/map-screen.html"><strong aria-hidden="true">4.8.</strong> Map Screen</a></li><li class="chapter-item expanded "><a href="gameplay/r2d2-help.html"><strong aria-hidden="true">4.9.</strong> R2D2 Help</a></li><li class="chapter-item expanded "><a href="gameplay/cheats.html"><strong aria-hidden="true">4.10.</strong> Cheats</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.11.</strong> Debug Mode</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> World Generation</div></li><li class="chapter-item expanded "><a href="files/index.html"><strong aria-hidden="true">6.</strong> Files</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> DTA / DAW</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Save Games</div></li><li class="chapter-item expanded "><a href="files/yodesk-ini.html"><strong aria-hidden="true">6.3.</strong> Yodesk.ini</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> Strings</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Indy's Desktop Adventures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> The Demo</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> The Patch</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Yoda Stories</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="yoda/releases.html"><strong aria-hidden="true">8.1.</strong> Releases</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> The Demo</div></li><li class="chapter-item expanded "><a href="yoda/patch/index.html"><strong aria-hidden="true">8.3.</strong> The Patch</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="yoda/patch/zone-072.html"><strong aria-hidden="true">8.3.1.</strong> Zone 72</a></li><li class="chapter-item expanded "><a href="yoda/patch/zone-236.html"><strong aria-hidden="true">8.3.2.</strong> Zone 236</a></li><li class="chapter-item expanded "><a href="yoda/patch/zone-407.html"><strong aria-hidden="true">8.3.3.</strong> Zone 407</a></li><li class="chapter-item expanded "><a href="yoda/patch/zone-474.html"><strong aria-hidden="true">8.3.4.</strong> Zone 474</a></li><li class="chapter-item expanded "><a href="yoda/patch/zone-572.html"><strong aria-hidden="true">8.3.5.</strong> Zone 572</a></li></ol></li><li class="chapter-item expanded "><a href="yoda/trivia.html"><strong aria-hidden="true">8.4.</strong> Trivia</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="appendix/yodesk.html">Yodesk.ksy</a></li><li class="chapter-item expanded affix "><a href="appendix/deskadv.html">Deskadv.ksy</a></li><li class="chapter-item expanded affix "><a href="appendix/yodasav.html">Yodasav.ksy</a></li><li class="chapter-item expanded affix "><a href="appendix/list-of-game-files.html">List of game files</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">WebFun</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/cyco/webfun/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="webfun"><a class="header" href="#webfun">WebFun</a></h1>
<p><img src="images/hero.png" alt="images/ingame-1-png" /></p>
<blockquote>
<p>In 1996/97 <em>LucasArts</em> released two games forming the <em>Desktop Adventures</em> series – <em>Indiana Jones and His Desktop Adventures</em> and <em>Yoda Stories</em>. Both games are 2D puzzle games, featuring a top-down view, a variety of quests and randomly generated worlds.</p>
</blockquote>
<p><strong>WebFun</strong> aims to be a faithful re-implementation of the game engine driving the Desktop Adventures series and document to its inner workings.</p>
<p>This documentation describes various observations made while reverse-engineering the games. Some of it applies to <em>Indiana Jones and His Desktop Adventures</em> as well, but due to personal preference most of the reverse-engineering efforts have been focused on <em>Yoda Stories</em>.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/introduction.md">Edit this file on GitHub.</a></footer><h1 id="releated-projects"><a class="header" href="#releated-projects">Releated Projects</a></h1>
<p>The Desktop Adventures games have infected quite a few people over the years. Here are some projects with similar goals as WebFun.</p>
<table><thead><tr><th>Project</th><th>Language</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://github.com/LeonisX/yoda-stories-translation-tool">LeonisX/yoda-stories-translation-tool</a></td><td>Java</td><td> Yoda Stories Translation Tool</td></tr>
<tr><td><a href="https://github.com/LeonisX/YExplorer">LeonisX/YExplorer</a></td><td>Delphi</td><td>Yoda Stories DAT file explorer, superseded by yoda-stories-translation-tool</td></tr>
<tr><td><a href="https://github.com/shinyquagsire23/DesktopAdventures">shinyquagsire23/DesktopAdventures</a></td><td>C</td><td>Reimplementation</td></tr>
<tr><td><a href="https://github.com/IceReaper/DesktopAdventuresToolkit">IceReaper/DesktopAdventuresToolkit</a></td><td>Java</td><td>packer / unpacker for game files</td></tr>
<tr><td><a href="https://github.com/digitall/scummvm-deskadv">digitall/scummvm-deskadv</a></td><td>C++</td><td>reimplementation for use in ScummVM</td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/related-projects.md">Edit this file on GitHub.</a></footer><h1 id="project-architecture"><a class="header" href="#project-architecture">Project Architecture</a></h1>
<p>This section describes some of the fundamental structures underlying <em>WebFun</em>.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/architecture/index.md">Edit this file on GitHub.</a></footer><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>To set up a local development environment you'll need:</p>
<ul>
<li><a href="https://git-scm.com">Git</a> to download the source code</li>
<li><a href="https://nodejs.org">Node.js</a>, version 14 or newer</li>
<li><a href="https://yarnpkg.com">Yarn</a> to install dependencies and run dev tasks</li>
</ul>
<h3 id="get-the-source-code"><a class="header" href="#get-the-source-code">Get the Source Code</a></h3>
<p>Open your terminal and execute the following script to download the repository:</p>
<pre><code class="language-bash">git clone https://github.com/cyco/webfun
</code></pre>
<h3 id="install-dependencies"><a class="header" href="#install-dependencies">Install dependencies</a></h3>
<p>To download and install all dependencies change into the new directory created by <code>git clone</code> and run <code>yarn</code>:</p>
<pre><code class="language-bash">cd webfun
yarn install
</code></pre>
<h3 id="start-the-server"><a class="header" href="#start-the-server">Start the server</a></h3>
<p>Using <code>yarn</code> again from the project directory you can now start a local web server. Run the following command in your terminal and the local page will be opened in your default browser.</p>
<pre><code class="language-bash">yarn start
</code></pre>
<p>Now you're all set up. The development page will reload whenever a code change is detected. See <a href="architecture/build-system.html">Build System</a> for a list of tasks <code>yarn</code> can execute for you.</p>
<p>When you're done hit <code>CTRL</code> and <code>c</code> on your keyboard to stop the server.</p>
<h2 id="data-sources"><a class="header" href="#data-sources">Data Sources</a></h2>
<p>By default <em>WebFun</em> is set up to load game assets from <a href="htts://archive.org/">archive.org</a>. For local development it's often helpful to load the files from disk and speed things up a bit. <em>WebFun</em> uses an environment variable called <code>WEBFUN_GAMES</code> to determine where to find games.</p>
<p>To override the default configuration (stored in the file <code>.env.defaults</code>), you can either set it in your shell before starting the web server or create a new file <code>.env</code> and put the value there. The value of the variable should be a <code>JSON</code> encoded array of <a href="https://github.com/cyco/WebFun/blob/master/src/app/webfun/game-controller.tsx#L62">GameSource</a> objects.</p>
<blockquote>
<p><strong>Note:</strong> Environment variables are only read when a program is started. Make sure to restart your development server after making changes to <code>.env</code></p>
</blockquote>
<p>The following configuration adds a local Yoda Stories installation to the default <em>archive.org</em> game source.</p>
<pre><code class="language-env">WEBFUN_GAMES=[{&quot;title&quot;:&quot;Yoda Stories (local)&quot;,&quot;variant&quot;:&quot;yoda&quot;,&quot;data&quot;:&quot;game-data/YODESK.DTA&quot;,&quot;exe&quot;:&quot;game-data/YODESK.EXE&quot;,&quot;help&quot;:&quot;game-data/YODESK.HLP&quot;,&quot;sfx&quot;:&quot;game-data/SFX/&quot;},{&quot;title&quot;:&quot;Yoda Stories from archive.org&quot;,&quot;variant&quot;:&quot;yoda&quot;,&quot;exe&quot;:&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2FYodesk.exe&quot;,&quot;sfx&quot;:&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2Fsfx%2F&quot;,&quot;data&quot;:&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2Fyodesk.dta&quot;,&quot;help&quot;:&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2FYodesk.hlp&quot;}]
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/architecture/getting-started.md">Edit this file on GitHub.</a></footer><h1 id="build-system"><a class="header" href="#build-system">Build System</a></h1>
<p><em>WebFun</em> uses the package manager <a href="https://yarnpkg.com">yarn</a> to manage dependencies and run build scripts.</p>
<p>The following tasks are defined in <code>package.json</code> and can be started using <code>yarn &lt;task-name&gt;</code> on the command line.</p>
<p><strong>start</strong> -- Start a local web server for development.</p>
<p>By default this starts the server on <code>localhost</code> port <code>8080</code>. You can change the hostname to listen on with the environment variable <code>host</code>. Some features like the service worker might require an HTTPS connection to work properly. If you place a self-signed certificate under <code>config/ssl.key</code> and <code>config/ssl.pem</code> the server will accept HTTPS connections.</p>
<p>Assuming you have mapped <code>webfun.local</code> to <code>127.0.0.1</code> in your hosts file (like <code>echo &quot;127.0.0.1 webfun.local&quot; &gt;&gt; /etc/hosts</code>), you can use <a href="https://github.com/FiloSottile/mkcert">mkcert</a> to generate certificates that will be valid on your system like this:</p>
<pre><code class="language-bash"># change to the project directory
$ cd webfun
# create a certificate
$ mkcert -cert-file config/ssl.pem -key-file config/ssl.key webfun.local localhost 127.0.0.1 ::1

# start the development server with the proper hostname
$ host=webfun.local yarn start
</code></pre>
<p><strong>format</strong> -- Format source code files using <a href="https://eslint.org">eslint</a> &amp; <a href="https://prettier.io">prettier</a>. You should always run this task before committing a code change to make sure everything is properly formatted and adheres es to the coding standards.</p>
<p><strong>test</strong> -- Run basic test suite once without collecting code coverage.</p>
<p><strong>test:cont</strong> -- Run unit test whenever a change is detected. This task does not collect collect code coverage for performance reasons.</p>
<p><strong>test:full</strong> -- Run all tests and collect code coverage.</p>
<p><strong>test:unit</strong> -- Run unit tests with code coverage enabled.</p>
<p><strong>test:unit:cont</strong> -- Run unit tests with code coverage whenever a change is detected</p>
<p><strong>build</strong> -- Clear <code>build</code> directory and run a fresh build suitable for production.</p>
<p><strong>build:docs</strong> -- Build this documentation. This script requires <code>mdbook</code> to be installed, see <a href="architecture/documentation.html">documentation</a> for details.</p>
<h2 id="webpack"><a class="header" href="#webpack">Webpack</a></h2>
<p><a href="https://webpack.js.org">Webpack</a> is used to bundle scripts and prepare other assets like css stylesheets, fonts and copy static files in production builds. The following configuration files are used for various tasks, all of them are located in the <code>config</code> directory:</p>
<p><strong>webpack.commmon.js</strong> -- A shared configuration that is used as a base for the dev and test configurations.</p>
<p><strong>webpack.dev.js</strong> -- Configuration for the development task, the development web server with hot module reloading is defined here.</p>
<p><strong>webpack.test.js</strong> -- Used for running tests</p>
<p><strong>webpack.prod.js</strong> -- Defines the production build</p>
<p><strong>webpack.service-worker.js</strong> -- Defines the production build for the service worker script. This is in a separate file because splitting the service worker code via chunks does not produce a file that runs in the service worker context.</p>
<h3 id="custom-plugins"><a class="header" href="#custom-plugins">Custom Plugins</a></h3>
<p>WebFun uses a few custom webpack plugins. These are all single-file scripts found in the <code>config</code> directory.</p>
<p><strong>file-list-webpack-plugin</strong> -- Creates a list of files produce during a production build and stores it in a json file. This file is used to pre-load assets when the service worker is installed.</p>
<p><strong>spy-on-imports-webpack-plugin</strong> -- This plugin rewrites imports created by Webpack so <code>jasmine.spy</code> can be used on wildcard module imports to mock dependencies during test execution:</p>
<pre><code class="language-javascript">import * as UtilModule from &quot;src/util&quot;;

describe(&quot;some test&quot;, () =&gt; {
	beforeEach(() =&gt; spyOn(UtilModule, &quot;download&quot;));

	it(&quot;starts a download&quot;, () =&gt; {
		subject.doYourThing();

		expect(UtilModule.download).toHaveBeenCalled();
	});
});
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/architecture/build-system.md">Edit this file on GitHub.</a></footer><h1 id="documentation"><a class="header" href="#documentation">Documentation</a></h1>
<p>This source for documentation is at <code>docs</code> and built using <a href="https://github.com/rust-lang/mdBook">mdbook</a>. You can trigger a manual build by executing the following command from the project root:</p>
<pre><code class="language-bash">$ yarn build:docs
</code></pre>
<p>The resulting files are placed in <code>build/docs/</code>.</p>
<p><em>Mdbook</em> also supports starting a local web server to render a live preview of changes made to the markdown files:</p>
<pre><code class="language-bash">$ cd docs
$ mdbook serve
</code></pre>
<h2 id="plugins"><a class="header" href="#plugins">Plugins</a></h2>
<p>Currently there are two plugins used during compilation of the documentation. You'll probably have to install them manually.</p>
<p><strong><a href="https://github.com/Michael-F-Bryan/mdbook-linkcheck">mdbook-linkcheck</a></strong> is included to check that all links the documentation points to are valid.</p>
<p><strong><a href="https://github.com/badboy/mdbook-open-on-gh">mdbook-open-on-gh</a></strong> adds a link to the current page on GitHub at the bottom of each page.</p>
<p>You can install the plugins with <a href="https://doc.rust-lang.org/cargo/">cargo</a> from you command line:</p>
<pre><code class="language-bash">$ cargo install mdbook-linkcheck mdbook-open-on-gh
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/architecture/documentation.md">Edit this file on GitHub.</a></footer><h1 id="deployment"><a class="header" href="#deployment">Deployment</a></h1>
<p><em>WebFun</em> is hosted on GitHub pages using the branch <code>release</code> with a custom domain. The deployment process takes several steps, automated by this simple shell script:</p>
<pre><code class="language-bash">#!/usr/bin/env bash

SOURCE=&quot;$HOME/Source/webfun&quot;
TARGET=&quot;$HOME/Source/webfun-release&quot;

# Stop on errors
set -e

# Clone release branch to $TARGET if it does not exist
if [ ! -d &quot;$TARGET&quot; ]; then
	git clone -b release git@github.com:cyco/WebFun.git &quot;$TARGET&quot;
fi

# Change to project root
cd &quot;$SOURCE&quot;

# Execute full test suite
yarn test:full

# Set environment variable to load game files from archive.org
export WEBFUN_GAMES=&quot;[{\&quot;title\&quot;:\&quot;Yoda Stories from archive.org\&quot;,\&quot;variant\&quot;:\&quot;yoda\&quot;,\&quot;sfx-format\&quot;:\&quot;wav\&quot;,\&quot;exe\&quot;:\&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2FYodesk.exe\&quot;,\&quot;sfx\&quot;:\&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2Fsfx%2F\&quot;,\&quot;data\&quot;:\&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2Fyodesk.dta\&quot;,\&quot;help\&quot;:\&quot;https://cors.archive.org/download/Star_Wars_-_Yoda_Stories_1997_LucasArts/Star%20Wars%20-%20Yoda%20Stories%20%281997%29%28LucasArts%29.iso/Yoda%2FYodesk.hlp\&quot;},{\&quot;title\&quot;:\&quot;Yoda Stories Demo (archive.org)\&quot;,\&quot;variant\&quot;:\&quot;yoda-demo\&quot;,\&quot;sfx-format\&quot;:\&quot;wav\&quot;,\&quot;exe\&quot;:\&quot;https://cors.archive.org/download/StarWarsYodaStories_1020/YodaDemo.zip/YodaDemo%2FYodaDemo.exe\&quot;,\&quot;sfx\&quot;:\&quot;https://archive.org/download/StarWarsYodaStories_1020/YodaDemo.zip/YodaDemo%2Fsfx%2F\&quot;,\&quot;data\&quot;:\&quot;https://cors.archive.org/download/StarWarsYodaStories_1020/YodaDemo.zip/YodaDemo%2FYodaDemo.dta\&quot;,\&quot;help\&quot;:\&quot;https://cors.archive.org/download/StarWarsYodaStories_1020/YodaDemo.zip/YodaDemo%2FYodaDemo.hlp\&quot;}]&quot;

# Run production build
yarn build

# Run production build of documentation
yarn build:docs

# Build docker container for local deployment
# docker build -t webfun:latest .

# Clear out target directory
rm -r &quot;$TARGET&quot;/*

# Copy release files
cp -r build/* &quot;$TARGET&quot;

# Copy screenshots for landing page
cp -r docs/screenshots &quot;$TARGET&quot;/docs/screenshots
cp -r assets/preview.png &quot;$TARGET&quot;/preview.png

# Re-create CNAME to setup custom URL for GitHub pages
echo -n www.webfun.io &gt; &quot;$TARGET&quot;/CNAME

# Change directory for manual inspection
cd &quot;$TARGET&quot;

# Stage new version
git add .

# Give further instructions
echo &quot;&quot;
echo &quot;Your relase is ready. Please inspect changes manually and the run&quot;
echo &quot;&quot;
echo &quot;   cd \&quot;$TARGET\&quot;&quot;
echo &quot;   git commit -m \&quot;chore: Update release\&quot;&quot;
echo &quot;   git push&quot;
echo &quot;&quot;

</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/architecture/deployment.md">Edit this file on GitHub.</a></footer><h1 id="gameplay"><a class="header" href="#gameplay">Gameplay</a></h1>
<p>The following section describes various aspects of the gameplay.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/index.md">Edit this file on GitHub.</a></footer><h1 id="window"><a class="header" href="#window">Window</a></h1>
<p><img src="gameplay/../images/window-overview.png" alt="" /></p>
<p><em>Desktop Adventures</em> are played in a window. There's no fullscreen mode and no resolution choices. The virtual world is rendered in a <code>288</code>x<code>288</code> pixel view. The player's item are dispalyed in an inventory table to the right. Each item can be clicked to pick up and then dropped on the scene. Below the inventory you'll find a <em>compass</em> that shows where the player can go, and indcator for the currently equipped weapon plus remaining ammo and a circular health indicator. As the hero takes damage this changes from green, over yellow and red to black. Once the black circle is completed the player dies and the game is over.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/main-window.md">Edit this file on GitHub.</a></footer><h1 id="color-palette"><a class="header" href="#color-palette">Color Palette</a></h1>
<table><thead><tr><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><img src="gameplay/../images/palette-anim-swamp.gif" alt="" /> <img src="gameplay/../images/palette-anim-tele.gif" alt="" /> <img src="gameplay/../images/palette-anim-water.gif" alt="" /></td></tr>
<tr><td align="center"><em>Color cycling effects in Yoda Stories</em></td></tr>
</tbody></table>
<p>Like many older games, the <em>Desktop Adventures</em> engine uses a color palette for rendering. That means the colors you see on the screen are not specified directly by supplying values for the three components red, green and blue, but rather by choosing one of several pre-defined colors from a color palette.</p>
<p>This has two major advantages. First, the amount of data needed to store an image is drastically reduced. Instead of giving three values for each pixel of an image, only one value is enough.</p>
<p>Second, and more interesting nowadays, changing a color in the palette affects all pixels on screen. This allows for very efficient animations and the results for cleverly composed images can be pretty impressive. Check out <a href="http://www.effectgames.com/effect/article-Old_School_Color_Cycling_with_HTML5.html">this site</a> as well as Mark Ferrari's excellent talk <em><a href="https://www.youtube.com/watch?v=aMcJ1Jvtef0">8 Bit &amp; '8 Bitish' Graphics-Outside the Box</a></em> to see what can be done with palette animations.</p>
<table><thead><tr><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><img src="gameplay/../images/palette-layout.svg" alt="Layout of the color palette" /></td></tr>
<tr><td align="center"><em>Layout of the color palette in a hex editor</em></td></tr>
</tbody></table>
<p>The <em>Desktop Adventures</em> engine uses a palette composed of 256 <code>24</code>-bit BGR colors, each represented as a <code>32</code>-bit integer, totaling <code>1024</code> bytes. By convention, the color at index <code>0</code> is interpreted as transparent.</p>
<p>Here are the color palettes used by <em>Yoda Stories</em> and <em>Indiana Jones and His Desktop Adventures</em>:</p>
<table><thead><tr><th> <em>Indy's Desktop Adventures</em></th><th> <em>Yoda Stories</em></th></tr></thead><tbody>
<tr><td><img src="gameplay/../images/palette-indy.png" alt="Color palette used by Indiana Jones and His Desktop Adventures" /></td><td><img src="gameplay/../images/palette-yoda.png" alt="Color palette used by Yoda Stories" /></td></tr>
</tbody></table>
<p>As described in the links above, the <em>Desktop Adventures</em> engine allows for color cycling animations to make the static environments more lively. Each game has a hard-coded set of regions in the palette that shifted to make animations. Each run is either advanced every frame (fast animations) or every other frame (slower animations).</p>
<p>Consult the following tables for a description of the animated regions in each game:</p>
<h4 id="color-cycles-in-yoda-stories"><a class="header" href="#color-cycles-in-yoda-stories">Color Cycles in Yoda Stories</a></h4>
<table><thead><tr><th>Start</th><th>End</th><th>Length</th><th>Speed</th></tr></thead><tbody>
<tr><td>0A</td><td>0F</td><td>6</td><td>fast</td></tr>
<tr><td>C6</td><td>C6</td><td>2</td><td>slow</td></tr>
<tr><td>C8</td><td>C9</td><td>2</td><td>slow</td></tr>
<tr><td>CA</td><td>CB</td><td>2</td><td>fast</td></tr>
<tr><td>CC</td><td>CD</td><td>2</td><td>fast</td></tr>
<tr><td>CE</td><td>CF</td><td>2</td><td>fast</td></tr>
<tr><td>D7</td><td>DF</td><td>9</td><td>slow</td></tr>
<tr><td>E0</td><td>E4</td><td>5</td><td>fast</td></tr>
<tr><td>E5</td><td>ED</td><td>9</td><td>slow</td></tr>
<tr><td>EE</td><td>F3</td><td>6</td><td>fast</td></tr>
<tr><td>F4</td><td>F5</td><td>2</td><td>slow</td></tr>
</tbody></table>
<h4 id="color-cycles-in-indys-desktop-adventures"><a class="header" href="#color-cycles-in-indys-desktop-adventures">Color Cycles in Indy's Desktop Adventures</a></h4>
<table><thead><tr><th>Start</th><th>End</th><th>Length</th><th>Speed</th></tr></thead><tbody>
<tr><td>A0</td><td>A7</td><td>8</td><td>fast</td></tr>
<tr><td>E0</td><td>E4</td><td>5</td><td>fast</td></tr>
<tr><td>E5</td><td>ED</td><td>9</td><td>fast</td></tr>
<tr><td>EE</td><td>F3</td><td>6</td><td>slow</td></tr>
<tr><td>F4</td><td>F5</td><td>2</td><td>slow</td></tr>
</tbody></table>
<p>Here are some renderings of the animations in the color palette:</p>
<table><thead><tr><th> <em>Indy's Desktop Adventures</em></th><th> <em>Yoda Stories</em></th></tr></thead><tbody>
<tr><td><img src="gameplay/../images/palette-anim-indy.gif" alt="Color palette with animations used by Indiana Jones and His Desktop Adventures" /></td><td><img src="gameplay/../images/palette-anim-yoda.gif" alt="Color palette with animations used by Yoda Stories" /></td></tr>
</tbody></table>
<h2 id="extracting-the-color-palette"><a class="header" href="#extracting-the-color-palette">Extracting the color palette</a></h2>
<p>The color palette is contained in the <code>.data</code> section of the game's executable <code>Yodesk.exe</code> as well as the demo <code>YodaDemo.exe</code>. Since the exact offset might differ depending on the specific version or language of the game, the easiest way to find it is to locate the string <code>CDeskcppDoc\0</code> and extract the next 1024 bytes from there. In most versions the palette seems to start at offset <code>0x550F0</code>.</p>
<p>For <em>Indy's Desktop Adventures</em> a reliable way to extract the color palette is to search for the ASCII string <code>sss</code>, move back <code>103</code> bytes and read <code>0x400</code> bytes from there.</p>
<h2 id="free-colors"><a class="header" href="#free-colors">&quot;Free&quot; colors</a></h2>
<p>The following colors are not referenced by any tile in <em>Yoda Stories</em> and could be used for UI elements in restricted environments (e.g. ScummVM or gaming console).</p>
<p><code>3, 4, 5, 6, 7, 8, 196, 197, 198, 199, 206, 246, 247, 248, 249, 250, 251, 252, 253, 254</code></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/color-palette.md">Edit this file on GitHub.</a></footer><h1 id="tiles"><a class="header" href="#tiles">Tiles</a></h1>
<table><thead><tr><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><img src="gameplay/../images/tile-grid.png" alt="" /></td></tr>
</tbody></table>
<p>The Desktop Adventures engine is almost entirely tile based. That means small re-usable images are used as the fundamental elements for all graphics. Maps, enemies and bullets are all made up of tiles.</p>
<blockquote>
<p><strong>Note:</strong> Only the startup image and the speech bubbles are not rendered using tiles.</p>
</blockquote>
<p>Each tile is made up of <code>32x32</code> pixels image data – an array of <code>8</code>-bit color palette indexes – and some flags that specify the properties of the tile.</p>
<h3 id="general-attributes"><a class="header" href="#general-attributes">General Attributes</a></h3>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>Transparent</td><td>if set color 0 in pixel data is treated as transparent</td></tr>
<tr><td>1</td><td>Floor</td><td>Tile is usually placed on the lowest layer of a zone</td></tr>
<tr><td>2</td><td>Object</td><td>Tile is normally placed on the middle</td></tr>
<tr><td>3</td><td>Draggable</td><td>If set the tile can be dragged and pushed</td></tr>
<tr><td>4</td><td>Roof</td><td>Object is usually placed on the top layer</td></tr>
<tr><td><strong>Type</strong></td><td></td><td></td></tr>
<tr><td>5</td><td>Locator</td><td>Tiles used in map screen</td></tr>
<tr><td>6</td><td>Weapon</td><td>Weapon tiles</td></tr>
<tr><td>7</td><td>Item</td><td>Items</td></tr>
<tr><td>8</td><td>Character</td><td>If the flag is not set, an enemy can</td></tr>
</tbody></table>
<h3 id="floor"><a class="header" href="#floor">Floor</a></h3>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>16</td><td>Doorway  </td><td>These tile are doorways, monsters can't go</td></tr>
</tbody></table>
<h3 id="locator"><a class="header" href="#locator">Locator</a></h3>
<p>If the <code>Locator</code> type bit is set, these flags specify the sub-type. Some tiles required to render the map scene are not marked with special bit flags, so a hard coded list of tile ids per game is required.</p>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>17</td><td>Town</td><td>Marks the Spaceport or Lucasino</td></tr>
<tr><td>18</td><td>PuzzleUnsolved</td><td>A visited sector with a puzzle that has not been solved yet</td></tr>
<tr><td>19</td><td>PuzzleSolved</td><td>A solved sector</td></tr>
<tr><td>20</td><td>TravelUnsolved</td><td>Sector that brings to player to a section of the world that can not be reached otherwise.</td></tr>
<tr><td>21</td><td>TravelSolved</td><td></td></tr>
<tr><td>22</td><td>BloackadeNorthUnsolved</td><td>A puzzle that has to be solved before the sectors to the north can be reached. A sector that has to be solved before the sector to the north can be reached.</td></tr>
<tr><td>23</td><td>BloackadeSouthUnsolved</td><td></td></tr>
<tr><td>24</td><td>BloackadeWestUnsolved</td><td></td></tr>
<tr><td>25</td><td>BloackadeEastUnsolved </td><td></td></tr>
<tr><td>26</td><td>BloackadeNorthSolved</td><td></td></tr>
<tr><td>27</td><td>BloackadeSouthSolved</td><td></td></tr>
<tr><td>28</td><td>BloackadeWestSolved</td><td></td></tr>
<tr><td>29</td><td>BloackadeEastSolved</td><td></td></tr>
<tr><td>30</td><td>GoalUnsolved</td><td>The final puzzle of the world. Solving this wins the game</td></tr>
<tr><td>31</td><td>YouAreHere</td><td>Overlay to mark the current position</td></tr>
</tbody></table>
<h3 id="item"><a class="header" href="#item">Item</a></h3>
<p>These item flags are used in hints in the map screen, and in R2D2's help messages.</p>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>16</td><td>Keycard</td><td></td></tr>
<tr><td>17</td><td>Tool</td><td></td></tr>
<tr><td>18</td><td>Part</td><td></td></tr>
<tr><td>19</td><td>Valuable</td><td></td></tr>
<tr><td>20</td><td>Map</td><td></td></tr>
<tr><td>22</td><td>Edible</td><td>Medikits and other health items have this flag, their health bonus is hard coded in Yoda Stories</td></tr>
</tbody></table>
<h3 id="weapon"><a class="header" href="#weapon">Weapon</a></h3>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>16</td><td>BlasterLow</td><td>Blaster Pistol</td></tr>
<tr><td>17</td><td>BlasterHigh</td><td>Blaster Rifle</td></tr>
<tr><td>18</td><td>Lightsaber</td><td>Lightsaber (Blue or Green)</td></tr>
<tr><td>19</td><td>TheForce</td><td>The Force</td></tr>
</tbody></table>
<h3 id="character"><a class="header" href="#character">Character</a></h3>
<table><thead><tr><th>bit</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>16</td><td>Hero</td><td></td></tr>
<tr><td>17</td><td>Enemy</td><td></td></tr>
<tr><td>18</td><td>NPC</td><td></td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/tiles.md">Edit this file on GitHub.</a></footer><h1 id="zones"><a class="header" href="#zones">Zones</a></h1>
<p>Zones are the game's maps, where the hero can walk around, solve puzzles and fight monsters.</p>
<p>They are made up of <code>9x9</code> or <code>10x10</code> tiles in three layers. A ground layer, and object layer, used for collision detection, and a roof layer that is rendered above the hero.</p>
<p>Each zone has a type that is used in the world generation process. See the following table for a list of zone types:</p>
<table><thead><tr><th>Type</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>None</td><td></td></tr>
<tr><td>1</td><td>Empty</td><td>An empty zone</td></tr>
<tr><td>2</td><td>Blockade North</td><td>Blocks access to zones north of this one until solved</td></tr>
<tr><td>3</td><td>Blockade South</td><td>Blocks access to zones south of this one until solved</td></tr>
<tr><td>4</td><td>Blockade East</td><td>Blocks access to zones east of this one until solved</td></tr>
<tr><td>5</td><td>Blockade West</td><td>Blocks access to zones west of this one until solved</td></tr>
<tr><td>6</td><td>Travel Departure</td><td>When solved this allows the player to reach a zone on an island that can otherwise not be reached by moving between zone on the main world</td></tr>
<tr><td>7</td><td>Travel Destination</td><td>Counterpart to <code>Travel Departure</code>. This is where a here will land after traveling from the departure zone. The zones are connected via hotspots of type <code>TravelStart</code> and <code>TravelEnd</code></td></tr>
<tr><td>8</td><td>Room</td><td>Rooms can n not be placed directly on the main world. They can be only be reached through <code>DoorIn</code>/<code>DoorOut</code> hotspots or via <code>ChaneZone</code> instructions.</td></tr>
<tr><td>9</td><td>Load</td><td>This zone is displayed while a new story is generated.</td></tr>
<tr><td>10</td><td>Goal</td><td>Goal zones are used for the final puzzles in each story.</td></tr>
<tr><td>11</td><td>Town / Spaceport</td><td>The starting zone on the main world. Every generated world has exactly one town.</td></tr>
<tr><td>12</td><td>Unknown</td><td></td></tr>
<tr><td>13</td><td>Win</td><td>Shown when the game is won. This zone also displays the score.</td></tr>
<tr><td>14</td><td>Lose</td><td>This zone is shown after the hero has died.</td></tr>
<tr><td>15</td><td>Trade</td><td>A zone where the player has to trade items with an NPC to solve the puzzle.</td></tr>
<tr><td>16</td><td>Use</td><td>In order to solve this zone a tool must be used somewhere on the zone.</td></tr>
<tr><td>17</td><td>Find</td><td><code>Find</code> zones provide an item without requiring anything else to solve them.</td></tr>
<tr><td>18</td><td>Find Unique Weapon</td><td>One of these will be placed close to the town. it provides a unique weapon (<em>The Force</em> in Yoda Stories) to the player.</td></tr>
</tbody></table>
<p>Additionally each zone provides lists of tiles that can be used to solve the puzzle, NPCs that can be used to trade with and tiles that the zone can drop when solved. In the world generation these items are chosen semi-randomly to create a new story every time.</p>
<p>On the world map neighboring zones can be visited by walking off the current zone. Additionally zones are connected through doors.</p>
<p>In order to make zones a little more interesting to play and replay, the game includes a custom scripting language. These <em>actions</em> are defined per zone.</p>
<p>Special points of interest on a zone are marked by <em>hotspots</em>. These locations mark doors, or places where an item can be used or an NPC be placed by the world generator.</p>
<p>In Yoda Stories, every zone belongs to one of the following planets:</p>
<table><thead><tr><th>Planet</th><th> Name</th><th>Description</th></tr></thead><tbody>
<tr><td>1</td><td>Tatooine</td><td>Desert planet, also referred to as Nevada</td></tr>
<tr><td>2</td><td>Hoth</td><td>Snowy ice planet, also referred to as Alaska</td></tr>
<tr><td>3</td><td>Endor</td><td>A forest planet, also referred to as Oregon</td></tr>
<tr><td>5</td><td>Dagobah</td><td>Swamp planet, used in the staring world</td></tr>
</tbody></table>
<h2 id="actions"><a class="header" href="#actions">Actions</a></h2>
<p>Actions can make zones more interactive and dynamic. They are used for example to implement switches and in-game cut-scene animations. Each action is made up of a bunch of conditions and instructions that are executed if all conditions are satisfied.</p>
<p>See <a href="gameplay/../scripting/index.html">Scripting</a> for a more detailed description of the internal scripting language.</p>
<h2 id="hotspots"><a class="header" href="#hotspots">Hotspots</a></h2>
<p><img src="gameplay/../images/hotspots.png" alt="Hotspots visualized in debug mode" /></p>
<p>Each hotspot has a position on the map, a type, and a single argument. Unless disabled, hotspots are triggered by placing an item, walking to the location or removing the tile at the object layer underneath the hotspot.</p>
<p>The following table describes the hotspot types and their purpose:</p>
<table><thead><tr><th>Type</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>Drop Quest Item</td><td></td></tr>
<tr><td>1</td><td>Spawn Location</td><td></td></tr>
<tr><td>2</td><td>Drop Unique Weapon</td><td></td></tr>
<tr><td>3</td><td>Vehicle To</td><td>Used in Travel Start zones, to change the zone to the travel target (identified by <code>arg</code>). On the target zone, the hero will be placed at a corresponsing <code>Vehicle Back</code> hotspot.</td></tr>
<tr><td>4</td><td>Vehicle Back</td><td></td></tr>
<tr><td>5</td><td>Drop Map</td><td>Drops the locator</td></tr>
<tr><td>6</td><td>Drop Item</td><td>Drops the item specified in <code>arg</code> when the object layer is free</td></tr>
<tr><td>7</td><td>NPC</td><td>A place where the puzzle NPC from <code>arg</code> can be placed.</td></tr>
<tr><td>8</td><td>Drop Weapon</td><td>Drops the weapon specified in <code>arg</code></td></tr>
<tr><td>9</td><td>Door In</td><td>Connects the zone to the one in <code>arg</code>.</td></tr>
<tr><td>10</td><td>Door Out</td><td>A door leading back to the zone where the player came from</td></tr>
<tr><td>11</td><td>Unused</td><td></td></tr>
<tr><td>12</td><td>Lock</td><td>This is a placeholder for a item in a <code>use</code> zone. Placing the correct item here removes the underlying tile from the object layer.</td></tr>
<tr><td>13</td><td>Teleporter</td><td>A place where the locator view is triggered for telportation</td></tr>
<tr><td>14</td><td>Ship From Planet</td><td></td></tr>
<tr><td>15</td><td>Ship To Planet</td><td>Used on Dagobah to mark the place to switch worlds. The target zone on the main world is specified in <code>arg</code>.</td></tr>
</tbody></table>
<h2 id="monsters"><a class="header" href="#monsters">Monsters</a></h2>
<blockquote>
<p><em>TODO:</em> Describe monster attributes, waypoints, drops, etc.</p>
</blockquote>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/zones.md">Edit this file on GitHub.</a></footer><h1 id="scripting"><a class="header" href="#scripting">Scripting</a></h1>
<p>The <em>Desktop Adventures</em> engine includes a binary scripting language. Each zone can have a number of <em>actions</em>. Each action consists of <em>conditions</em> and <em>instructions</em>.</p>
<p>Conditions and instructions have the following structure:</p>
<pre><code class="language-typescript">type Condition = {
	opcode: number,
	arguments: number[5],
	text: string?
}
</code></pre>
<p>See <a href="scripting/./conditions.html">Conditions</a> and <a href="scripting/./instructions.html">Instructions</a> for a description of the known opcodes for conditions and instructions respectively.</p>
<h3 id="execution"><a class="header" href="#execution">Execution</a></h3>
<p>Actions are evaluated on the current zone. Once every condition of an action is satisfied all instructions are executed. Consider this mock execution engine:</p>
<pre><code class="language-typescript">function execute(actions) {
	for (const action of actions) {
		if (action.conditions.every(condition =&gt; condition.isSatisfied()) {
			for (const instruction of action.instructions) {
				instruction.execute();
			}
		}
	}
}
</code></pre>
<h3 id="registers"><a class="header" href="#registers">Registers</a></h3>
<p>There are several registers available for use in scripts. All registers are local to the zone.</p>
<ul>
<li><code>counter</code> – A simple <code>16</code>-bit register</li>
<li><code>sector-counter</code> – <code>16</code>-bit register that is propagated to connected rooms</li>
<li><code>random</code> – <code>16</code>-bit register that can be set to random values</li>
</ul>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/scripting/index.md">Edit this file on GitHub.</a></footer><h1 id="conditions"><a class="header" href="#conditions">Conditions</a></h1>
<p>The following is a list of condition opcodes used by <em>Yoda Stories</em>.</p>
<blockquote>
<p><em>TODO:</em> Check if <em>Indy</em> uses the same opcodes</p>
</blockquote>
<table><thead><tr><th>Opcode</th><th>Name</th><th># of arguments</th><th>Description</th></tr></thead><tbody>
<tr><td>0x000</td><td>ZoneNotInitialized</td><td>0</td><td>Evaluates to true exactly once (used for initialization)</td></tr>
<tr><td>0x001</td><td>ZoneEntered</td><td>0</td><td>Evaluates to true if hero just entered the zone</td></tr>
<tr><td>0x002</td><td>Bump</td><td>3</td><td></td></tr>
<tr><td>0x003</td><td>PlacedItemIs</td><td>5</td><td></td></tr>
<tr><td>0x004</td><td>StandingOn</td><td>3</td><td>Check if hero is at <code>arg_0</code>x<code>arg_1</code> and the floor tile is <code>arg_2</code></td></tr>
<tr><td>0x005</td><td>CounterIs</td><td>1</td><td>Current zone's <code>counter</code> value is equal to <code>arg_0</code></td></tr>
<tr><td>0x006</td><td>RandomIs</td><td>1</td><td>Current zone's <code>random</code> value is equal to <code>arg_0</code></td></tr>
<tr><td>0x007</td><td>RandomIsGreaterThan</td><td>1</td><td>Current zone's <code>random</code> value is greater than <code>arg_0</code></td></tr>
<tr><td>0x008</td><td>RandomIsLessThan</td><td>1</td><td>Current zone's <code>random</code> value is less than <code>arg_0</code></td></tr>
<tr><td>0x009</td><td>EnterByPlane</td><td>0</td><td></td></tr>
<tr><td>0x00a</td><td>TileAtIs</td><td>4</td><td>Check if tile at <code>arg_0</code>x<code>arg_1</code>x<code>arg_2</code> is equal to <code>arg_3</code></td></tr>
<tr><td>0x00b</td><td>MonsterIsDead</td><td>1</td><td>True if monster <code>arg_0</code> is dead.</td></tr>
<tr><td>0x00c</td><td>HasNoActiveMonsters</td><td>0</td><td></td></tr>
<tr><td>0x00d</td><td>HasItem</td><td>1</td><td>True if inventory contains <code>arg_0</code>. If <code>arg_0</code> is <code>-1</code> check if inventory contains the item provided by the current zone's puzzle</td></tr>
<tr><td>0x00e</td><td>RequiredItemIs</td><td>1</td><td></td></tr>
<tr><td>0x00f</td><td>EndingIs</td><td>1</td><td>True if <code>arg_0</code> is equal to current goal item id</td></tr>
<tr><td>0x010</td><td>ZoneIsSolved</td><td>0</td><td>True if the current zone is solved</td></tr>
<tr><td>0x011</td><td>NoItemPlaced</td><td>5</td><td>Returns true if the user did not place an item</td></tr>
<tr><td>0x012</td><td>HasGoalItem</td><td>0</td><td>Returns true if the hero has the goal item</td></tr>
<tr><td>0x013</td><td>HealthIsLessThan</td><td>1</td><td>Hero's health is less than <code>arg_0</code>.</td></tr>
<tr><td>0x014</td><td>HealthIsGreaterThan</td><td>1</td><td>Hero's health is greater than <code>arg_0</code>.</td></tr>
<tr><td>0x015</td><td>Unused</td><td>5</td><td></td></tr>
<tr><td>0x016</td><td>FindItemIs</td><td>1</td><td>True the item provided by current zone is <code>arg_0</code></td></tr>
<tr><td>0x017</td><td>PlacedItemIsNot</td><td>5</td><td></td></tr>
<tr><td>0x018</td><td>HeroIsAt</td><td>2</td><td>True if hero's x/y position is <code>args_0</code>x<code>args_1</code>.</td></tr>
<tr><td>0x019</td><td>SectorCounterIs</td><td>1</td><td>Current zone's <code>sector-counter</code> value is equal to <code>arg_0</code></td></tr>
<tr><td>0x01a</td><td>SectorCounterIsLessThan</td><td>1</td><td>Current zone's <code>sector-counter</code> value is less than <code>arg_0</code></td></tr>
<tr><td>0x01b</td><td>SectorCounterIsGreaterThan</td><td>1</td><td>Current zone's <code>sector-counter</code> value is greater than <code>arg_0</code></td></tr>
<tr><td>0x01c</td><td>GamesWonIs</td><td>1</td><td>Total games won is equal to <code>arg_0</code></td></tr>
<tr><td>0x01d</td><td>DropsQuestItemAt</td><td>2</td><td></td></tr>
<tr><td>0x01e</td><td>HasAnyRequiredItem</td><td>0</td><td>Determines if inventory contains any of the required items needed for current zone</td></tr>
<tr><td>0x01f</td><td>CounterIsNot</td><td>1</td><td>Current zone's <code>counter</code> value is not equal to <code>arg_0</code></td></tr>
<tr><td>0x020</td><td>RandomIsNot</td><td>1</td><td>Current zone's <code>random</code> value is not equal to <code>arg_0</code></td></tr>
<tr><td>0x021</td><td>SectorCounterIsNot</td><td>1</td><td>Current zone's <code>sector-counter</code> value is not equal to <code>arg_0</code></td></tr>
<tr><td>0x022</td><td>IsVariable</td><td>4</td><td>Check if variable identified by <code>arg_0</code>⊕<code>arg_1</code>⊕<code>arg_2</code> is set to <code>arg_3</code>. Internally this is implemented as opcode 0x0a, check if tile at <code>arg_0</code>x<code>arg_1</code>x<code>arg_2</code> is equal to <code>arg_3</code></td></tr>
<tr><td>0x023</td><td>GamesWonIsGreaterThan</td><td>1</td><td>Total games won is greater than <code>arg_0</code></td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/scripting/conditions.md">Edit this file on GitHub.</a></footer><h1 id="instructions"><a class="header" href="#instructions">Instructions</a></h1>
<p>The following is a list of instructions opcodes used by <em>Yoda Stories</em>.</p>
<blockquote>
<p><em>TODO:</em> Check if <em>Indy</em> uses the same opcodes</p>
</blockquote>
<table><thead><tr><th>Opcode</th><th>Name</th><th># of arguments</th><th>Description</th></tr></thead><tbody>
<tr><td>0x000</td><td>PlaceTile</td><td>4</td><td>Place tile <code>arg_3</code> at <code>arg_0</code>x<code>arg_1</code>x<code>arg_2</code>. To remove a tile the id -1 is used.</td></tr>
<tr><td>0x001</td><td>RemoveTile</td><td>3</td><td>Remove tile at <code>arg_0</code>x<code>arg_1</code>x<code>arg_2</code></td></tr>
<tr><td>0x002</td><td>MoveTile</td><td>5</td><td>Move Tile at <code>arg_0</code>x<code>arg_0</code>x<code>arg_2</code> to <code>arg_3</code>x<code>arg_4</code>x<code>arg_2</code>. <em>Note that this can not be used to move tiles between layers!</em></td></tr>
<tr><td>0x003</td><td>DrawTile</td><td>5</td><td></td></tr>
<tr><td>0x004</td><td>SpeakHero</td><td>0</td><td>Show speech bubble next to hero. <em>Uses <code>text</code> attribute</em>.</td></tr>
<tr><td>0x005</td><td>SpeakNpc</td><td>2</td><td>Show speech bubble at <code>arg_0</code>x<code>arg_1</code>. <em>Uses <code>text</code> attribute</em>. The characters <code>¢</code> and <code>¥</code> are used as placeholders for provided and required items of the current zone, respectively.</td></tr>
<tr><td>0x006</td><td>SetTileNeedsDisplay</td><td>2</td><td>Redraw tile at <code>arg_0</code>x<code>arg_1</code></td></tr>
<tr><td>0x007</td><td>SetRectNeedsDisplay</td><td>4</td><td>Redraw the part of the current scene, specified by a rectangle positioned at <code>arg_0</code>x<code>arg_1</code> with width <code>arg_2</code> and height <code>arg_3</code>.</td></tr>
<tr><td>0x008</td><td>Wait</td><td>0</td><td>Pause script execution for one tick.</td></tr>
<tr><td>0x009</td><td>Redraw</td><td>0</td><td>Redraw the whole scene immediately</td></tr>
<tr><td>0x00a</td><td>PlaySound</td><td>1</td><td>Play sound specified by <code>arg_0</code></td></tr>
<tr><td>0x00b</td><td>StopSound</td><td>0</td><td>Stop playing sounds. _TODO: check if only music need to be stopped`</td></tr>
<tr><td>0x00c</td><td>RollDice</td><td>1</td><td>Set current zone's <code>random</code> to a random value between 1 and <code>arg_0</code>.</td></tr>
<tr><td>0x00d</td><td>SetCounter</td><td>1</td><td>Set current zone's <code>counter</code> value to a <code>arg_0</code></td></tr>
<tr><td>0x00e</td><td>AddToCounter</td><td>1</td><td>Add <code>arg_0</code> to current zone's <code>counter</code> value</td></tr>
<tr><td>0x00f</td><td>SetVariable</td><td>4</td><td>Set variable identified by <code>arg_0</code>⊕<code>arg_1</code>⊕<code>arg_2</code> to <code>arg_3</code>. Internally this is implemented as opcode 0x00, setting tile at <code>arg_0</code>x<code>arg_1</code>x<code>arg_2</code> to <code>arg_3</code>.</td></tr>
<tr><td>0x010</td><td>HideHero</td><td>0</td><td>Hide hero</td></tr>
<tr><td>0x011</td><td>ShowHero</td><td>0</td><td>Show hero</td></tr>
<tr><td>0x012</td><td>MoveHeroTo</td><td>2</td><td>Set hero's position to <code>arg_0</code>x<code>arg_1</code> ignoring impassable tiles. Execute hotspot actions, redraw the current scene and move camera if the hero is not hidden.</td></tr>
<tr><td>0x013</td><td>MoveHeroBy</td><td>5</td><td></td></tr>
<tr><td>0x014</td><td>DisableAction</td><td>0</td><td>Disable current action</td></tr>
<tr><td>0x015</td><td>EnableHotspot</td><td>1</td><td>Enable hotspot <code>arg_0</code></td></tr>
<tr><td>0x016</td><td>DisableHotspot</td><td>1</td><td>Disable hotspot <code>arg_0</code></td></tr>
<tr><td>0x017</td><td>EnableMonster</td><td>1</td><td>Enable monster <code>arg_0</code></td></tr>
<tr><td>0x018</td><td>DisableMonster</td><td>1</td><td>Disable monster <code>arg_0</code></td></tr>
<tr><td>0x019</td><td>EnableAllMonsters</td><td>0</td><td>Enable all monsters</td></tr>
<tr><td>0x01a</td><td>DisableAllMonsters</td><td>0</td><td>Disable all monsters</td></tr>
<tr><td>0x01b</td><td>DropItem</td><td>3</td><td>Drops item <code>arg_0</code> for pickup at <code>arg_1</code>x<code>arg_2</code>. If the item is -1, it drops the current sector's find item. instead</td></tr>
<tr><td>0x01c</td><td>AddItem</td><td>1</td><td>Add item with id <code>arg_0</code> to inventory</td></tr>
<tr><td>0x01d</td><td>RemoveItem</td><td>1</td><td>Remove one instance of item <code>arg_0</code> from the inventory</td></tr>
<tr><td>0x01e</td><td>MarkAsSolved</td><td>0</td><td></td></tr>
<tr><td>0x01f</td><td>WinGame</td><td>0</td><td></td></tr>
<tr><td>0x020</td><td>LoseGame</td><td>0</td><td></td></tr>
<tr><td>0x021</td><td>ChangeZone</td><td>3</td><td>Change current zone to <code>arg_0</code>. Hero will be placed at <code>arg_1</code>x<code>arg_2</code> in the new zone.</td></tr>
<tr><td>0x022</td><td>SetSectorCounter</td><td>1</td><td>Set current zone's <code>sector-counter</code> value to a <code>arg_0</code></td></tr>
<tr><td>0x023</td><td>AddToSectorCounter</td><td>1</td><td>Add <code>arg_0</code> to current zone's <code>sector-counter</code> value</td></tr>
<tr><td>0x024</td><td>SetRandom</td><td>1</td><td>Set current zone's <code>random</code> value to a <code>arg_0</code></td></tr>
<tr><td>0x025</td><td>AddHealth</td><td>1</td><td>Increase hero's health by <code>arg_0</code>. New health is capped at hero's max health (0x300).</td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/scripting/instructions.md">Edit this file on GitHub.</a></footer><h2 id="score"><a class="header" href="#score">Score</a></h2>
<p>At the end of each game a score called the <em>Indy Quotient</em> or <em>Force Factor</em> is calculated. The game keeps track of the last and highest scores in the ini file at <code>C:/WINDOWS/Yodesk.ini</code> (see <a href="gameplay/../files/yodesk-ini.html">files/yodesk-ini.md</a>) using the keys <code>HScore</code> and <code>LScore</code>, respectively.</p>
<p><img src="gameplay/../images/yoda-win.png" alt="you-win" /></p>
<p>The game combines four components to rate the player's performance:</p>
<ul>
<li>Time</li>
<li>Solved puzzle ratio</li>
<li>Difficulty</li>
<li>Visited zones</li>
</ul>
<h3 id="time"><a class="header" href="#time">Time:</a></h3>
<pre><code class="language-javascript">const time = (baseTime in seconds + elapsedTime in seconds) / 60 - 5 * worldSize
if time &lt;= 0 return 200
if 20 * time &lt; 200
	return 200 - 20 * time
return 0
</code></pre>
<h3 id="puzzles"><a class="header" href="#puzzles">Puzzles:</a></h3>
<pre><code class="language-javascript">const solved = sectors.filter(zone =&gt; zone &amp;&amp; zone.visited).length
return solved / worldSize * 100.0
</code></pre>
<h3 id="difficulty"><a class="header" href="#difficulty">Difficulty:</a></h3>
<pre><code class="language-javascript">const solved = sectors.filter(zone =&gt; zone &amp;&amp; zone.visited &amp;&amp; zone.solved).length
const total = sectors.length
return solved / worldSize * 100.0
</code></pre>
<h3 id="visited-zones"><a class="header" href="#visited-zones">Visited Zones:</a></h3>
<pre><code class="language-javascript">const solved = sectors.filter(zone =&gt; zone &amp;&amp; zone.visited).length
return solved / worldSize * 100.0
</code></pre>
<h3 id="final-score"><a class="header" href="#final-score">Final Score:</a></h3>
<pre><code class="language-javascript">return Sum(components)
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/score.md">Edit this file on GitHub.</a></footer><h1 id="map-screen"><a class="header" href="#map-screen">Map Screen</a></h1>
<p><img src="gameplay/../images/map-screen.png" alt="" /></p>
<p>In order for the player to find their way around the world and get some hints on how to solve the puzzles, the game includes a map screen. The screen can be accesses after the player finds the map (aka <em>Locator</em>) item.</p>
<blockquote>
<p><em>TODO:</em> Describe how locator texts are determined</p>
</blockquote>
<h2 id="observations"><a class="header" href="#observations">Observations</a></h2>
<p>Here are some observations about the map:</p>
<ul>
<li>The map scene uses 28x28 tiles instead of the usual 32x32</li>
<li>Inventory allows opening the map by clicking any item that has Bits 7 and 20 set</li>
<li>The map can be activated by hitting <em>L</em> on the keyboard</li>
<li>Hints check tile attributes to determine if something is valuable, a tool, a part, etc.</li>
</ul>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/map-screen.md">Edit this file on GitHub.</a></footer><h1 id="r2d2-help"><a class="header" href="#r2d2-help">R2D2 Help</a></h1>
<p><img src="gameplay/../images/r2d2-help.png" alt="" /></p>
<p>When Luke first visits <em>Dagobah</em> his trusty companion <em>R2-D2</em> is already waiting for him, ready to be picked up and help out.</p>
<p>R2D2 can be placed anywhere on the game screen and will try to give some information on whatever it was dropped on.</p>
<p>The messages given by R2 are stored as string resources in the executable.</p>
<p>The following string ids are used:</p>
<table><thead><tr><th>String</th><th>Hint</th><th>Description</th></tr></thead><tbody>
<tr><td>57383</td><td>AboutWalking</td><td>Chosen at random if no other message matches</td></tr>
<tr><td>57384</td><td>AboutFinding</td><td>Chosen at random if no other message matches</td></tr>
<tr><td>57385</td><td>About Using</td><td>Chosen at random if no other message matches</td></tr>
<tr><td>57386</td><td>About Weapons</td><td>Chosen at random if no other message matches</td></tr>
<tr><td>57387</td><td>AboutHealth</td><td>Chosen at random if no other message matches</td></tr>
<tr><td>7382</td><td>Yoda</td><td>Shown when placed on Yoda</td></tr>
<tr><td>7395</td><td>Hero</td><td>Shown when placed on Luke</td></tr>
<tr><td>7388</td><td>Vader</td><td>Shown when placed on Vader</td></tr>
<tr><td>7398</td><td>MedicalDroid</td><td>Shown when placed on medial droid</td></tr>
<tr><td>7396</td><td>TeleporterActive</td><td>Shown when placed on an active teleporter</td></tr>
<tr><td>7397</td><td>TeleporterInactive</td><td>Shown when placed on an inactive teleporter</td></tr>
<tr><td>7380</td><td>Draggable</td><td>Shown when placed on a tile with the <code>Draggable</code> flag</td></tr>
<tr><td>7400</td><td>Weapon</td><td>Show when placed on a tile with the <code>Weapon</code> flag</td></tr>
<tr><td>7378</td><td>Enemy</td><td>Shown when placed on a tile with the <code>Character</code> and <code>Enemy</code> flags</td></tr>
<tr><td>7381</td><td>NPC</td><td>Shown when placed on a tile with the <code>Character</code> and <code>NPC</code> attributes</td></tr>
<tr><td>7391</td><td>Ewok</td><td>Shown when placed on an Ewok</td></tr>
<tr><td>7392</td><td>Jawa</td><td>Shown when placed on a friendly Jawa</td></tr>
<tr><td>7393</td><td>Droid</td><td>Shown when placed on a droid (tile ids hard coded)</td></tr>
<tr><td>7377</td><td>X-Wing</td><td>Shown when placed on an X-Wing tile (not actually triggered)</td></tr>
<tr><td>7376</td><td>Storage</td><td>Shown when placed on a container (hard coded tile ids)</td></tr>
<tr><td>7379</td><td>Door</td><td>Show when placed on a door tile (hard coded list of tile ids)</td></tr>
<tr><td>7389</td><td>Win</td><td>Shown when game is won (can not be triggered)</td></tr>
<tr><td>7390</td><td>Lose</td><td>Shown when game is lost (can not be triggered)</td></tr>
</tbody></table>
<h4 id="list-of-storage-tile-ids"><a class="header" href="#list-of-storage-tile-ids">List of Storage Tile IDs</a></h4>
<pre><code class="language-json">[0x102, 0x10, 0x48d, 0x279, 0x27b, 0x27c, 0x6e5]
</code></pre>
<h4 id="list-of-door-ids"><a class="header" href="#list-of-door-ids">List of Door IDs</a></h4>
<pre><code class="language-json">[70, 71, 72, 73, 74, 75, 76, 145, 149, 152, 153, 220, 221, 223, 231, 232, 233, 350, 582, 584, 586, 588, 702, 709, 755, 756, 759, 760, 804, 806, 983, 984, 1047, 1048, 1081, 1112, 1120, 1259, 1461, 1462, 1472, 1473, 1539, 1544, 1858]
</code></pre>
<h4 id="list-of-x-wing-tile-ids"><a class="header" href="#list-of-x-wing-tile-ids">List of X-Wing Tile IDs</a></h4>
<pre><code class="language-json">[0x3b4, 0x3b5, 0x3b6]
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/r2d2-help.md">Edit this file on GitHub.</a></footer><h1 id="cheats"><a class="header" href="#cheats">Cheats</a></h1>
<p>On most websites for cheat codes you can find mentions of cheat codes like <code>BLASTERS</code> and <code>OBJECTS</code> that supposedly fill up the inventory with all items. These codes <strong>do not work</strong> and the executable does not even contain any reference to those codes.</p>
<p><em>Yoda Stories</em> does however contain two cheat codes that actually work. To input them you have to activate the <code>Locator</code> and type one of the codes. It is important to click the <code>Locator</code> in the inventory instead of using the keyboard shortcut <code>L</code> (the <code>L</code>-key is interpreted as the first character of the cheat code).</p>
<p><img src="gameplay/../images/gojedi.png" alt="After successfully entering a cheat code a message appears on the current zone." /></p>
<p>After successfully entering a cheat code a message appears on the current zone.</p>
<p><em>Yoda Stories</em> supports the following cheat codes:</p>
<table><thead><tr><th>Code</th><th>Message</th><th>Effect</th></tr></thead><tbody>
<tr><td><code>gojedi</code></td><td><em>Super Jedi!</em></td><td>Adds 5 Thermal Detonators, a Blaster Rifle, a Blaster and The Force to the inventory.</td></tr>
<tr><td><code>goyoda</code></td><td><em>Invincible!</em></td><td>The player's health is locked at the current value. Neither healing nor taking damage is possible.</td></tr>
</tbody></table>
<p><em>Indiana Jones and His Desktop Adventures</em> does not have any cheat codes.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/gameplay/cheats.md">Edit this file on GitHub.</a></footer><h1 id="files"><a class="header" href="#files">Files</a></h1>
<p>This sections describes several custom or unusual file and binary formats used by the engine.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/files/index.md">Edit this file on GitHub.</a></footer><h1 id="yodeskini"><a class="header" href="#yodeskini">Yodesk.ini</a></h1>
<p>Data that persists between launches of a <em>Desktop Adventures</em> game, like settings, highscore and information about the last generated worlds is stored in a ini-file.</p>
<table><thead><tr><th>Variant</th><th>Path</th></tr></thead><tbody>
<tr><td>Yoda Stories</td><td><code>C:\Windows\Yodesk.ini</code></td></tr>
<tr><td>Yoda Stories Demo</td><td><code>C:\Windows\YodaDemo.ini</code></td></tr>
<tr><td>Indy's Adventures</td><td><code>C:\Windows\Deskadv.ini</code></td></tr>
<tr><td>Indy's Demo</td><td> </td></tr>
</tbody></table>
<p>The file is a standard <a href="https://en.wikipedia.org/wiki/INI_file">INI file</a> with the sections <code>OPTIONS</code>, <code>GameData</code> and <code>Recent File List</code>.</p>
<p>The following is a sample file generated by <code>Yoda Stories</code>:</p>
<pre><code class="language-ini">[OPTIONS]
MIDILoad=1
PlaySound=0
PlayMusic=0
Difficulty=1
GameSpeed=140
WorldSize=1
Count=302
HScore=870
LScore=570
LCount=0
Terrain=2

[GameData]
Alaska0=2126634910,129,3,318,232,264
Nevada0=950869581,163,3,364,348,362
</code></pre>
<h2 id="options-section"><a class="header" href="#options-section">Options section</a></h2>
<table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>Settings</strong></td><td></td></tr>
<tr><td>MIDILoad</td><td> </td></tr>
<tr><td>PlaySound</td><td>Setting</td></tr>
<tr><td>PlayMusic</td><td>Setting</td></tr>
<tr><td>Difficulty</td><td>Setting, values range from</td></tr>
<tr><td>GameSpeed</td><td>Setting, values range from</td></tr>
<tr><td>WorldSize</td><td>Setting, values range from</td></tr>
<tr><td><strong>Score</strong></td><td></td></tr>
<tr><td>Count</td><td>Number of worlds generated</td></tr>
<tr><td>HScore</td><td>Highest score</td></tr>
<tr><td>LScore</td><td>Last score</td></tr>
<tr><td>LCount</td><td>Number of lost games  </td></tr>
<tr><td><strong>World Generation</strong></td><td></td></tr>
<tr><td>Terrain</td><td>Last terrain used to generate a world. The next world is determined based on this value. <em>Since Indy's Adventures only have on terrain this value is not used.</em></td></tr>
</tbody></table>
<h2 id="gamedata-section"><a class="header" href="#gamedata-section">GameData section</a></h2>
<p>The <code>GameData</code> section is used to keep track of the end puzzles last used on each planet. When a new world on the planet is generated, these puzzles are excluded. This is supposed to increase variety between consecutive games so the player get different endings every time.</p>
<p>Each entry holds a comma separated list. The first entry is the last used PRNG seed, written out as a <code>32</code>-bit integer, eventhough only <code>16</code>-bits are used. The second number is a random value between <code>1</code> and <code>256</code> that is added to the puzzle ids. The third value is the number of puzzle ids, followed by the actual end puzzle ids that are to be excluded, each offset by the random value generated before.</p>
<table><thead><tr><th>Key</th><th>Mapping</th><th>Comment</th></tr></thead><tbody>
<tr><td>Alaska</td><td>Yoda</td><td>Ice planet (Hoth)</td></tr>
<tr><td>Nevada</td><td>Yoda</td><td>Desert planet (Tatooine)</td></tr>
<tr><td>Oregon</td><td>Yoda</td><td>Forest planet (Endor)</td></tr>
<tr><td>Hawaii</td><td>Indy</td><td></td></tr>
<tr><td>Wyoming</td><td>Indy</td><td></td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/files/yodesk-ini.md">Edit this file on GitHub.</a></footer><h1 id="releases"><a class="header" href="#releases">Releases</a></h1>
<p>It's hard to find a complete list of releases of <em>Yoda Stories</em>. <a href="https://www.mobygames.com/game/star-wars-yoda-stories/release-info">MobyGames lists</a> only two releases of the Windows version of the game - the US and a German version. The <a href="http://theswca.com/index.php?action=proc_search&amp;search_string=yoda+stories"><em>Star Wars Collectors Archive</em> (SWCA)</a> has additional information on releases from Japan, Taiwan, Italy and the Netherlands and there is a Spanish release version up on the internet archive.</p>
<p>If you know of any other releases please feel free to edit this page. And if you have access to a version that is not on the <a href="https://archive.org">internet archive</a> yet, please consider submitting it.</p>
<table><thead><tr><th>Release</th><th>Year</th><th>Publisher</th><th>Source</th></tr></thead><tbody>
<tr><td>US</td><td>1997</td><td>LucasArts</td><td>MobyGames</td></tr>
<tr><td>Germany  </td><td>1997</td><td>FunSoft GmbH</td><td>MobyGames</td></tr>
<tr><td>Spain  </td><td>1997</td><td>Erbe Software</td><td>archive.org</td></tr>
<tr><td>Japan</td><td>1997</td><td>Micro Mouse</td><td>SWCA</td></tr>
<tr><td>Italy</td><td>1997</td><td>CTO</td><td>SWCA</td></tr>
<tr><td>The Netherlands</td><td>1997</td><td></td><td>SWCA</td></tr>
<tr><td>Taiwan</td><td>1997</td><td>Unalis</td><td>SWCA</td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/releases.md">Edit this file on GitHub.</a></footer><h2 id="the-patch"><a class="header" href="#the-patch">The Patch</a></h2>
<p>In February of '97 Lucas Arts released a patch called <em>Yoda Update #6</em> that fixes problems in some zones. The Patch is a self-extracting archive that replaces the main game data file <code>Yodesk.dta</code> with a new one.</p>
<p>A prompt saying <em>zones <a href="yoda/patch/./zone-072.html">#72</a>, <a href="yoda/patch/./zone-236.html">#236</a>, <a href="yoda/patch/./zone-407.html">#407</a>, <a href="yoda/patch/./zone-474.html">#474</a> and <a href="yoda/patch/./zone-572.html">#572</a> have been fixed</em> appears when the update is run.</p>
<p><img src="yoda/patch/../../images/patched-zones.png" alt="Message shown when Yoda Update #6 is run" /></p>
<p>The original release notes of <code>yopatch6.exe</code> have been preserved by the Wayback Machine <a href="https://web.archive.org/web/20000304052609/http://support.lucasarts.com/patches/yoda.htm">here</a> (and with a different design <a href="https://web.archive.org/web/20011014162056/http://support.lucasarts.com:80/patches/yoda.htm">here</a>). They claim that in addition to the zone fixes &quot;minor art modifications&quot; have been made.</p>
<p>It would be interesting to find out what exactly has changed in the newer data file.</p>
<pre><code class="language-bash">$ shasum yopatch6.exe
a8e18864184d49feaf0b74b93f60855f40ffe9bf  yopatch6.exe

$ file yopatch6.exe
yopatch6.exe: PE32 executable (GUI) Intel 80386, for MS Windows
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/index.md">Edit this file on GitHub.</a></footer><h1 id="zone-72"><a class="header" href="#zone-72">Zone 72</a></h1>
<p>Zone #72 was one of the zones patch by update #6.</p>
<p><img src="yoda/patch/../../images/zone-072.png" alt="072" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/zone-072.md">Edit this file on GitHub.</a></footer><h1 id="zone-236"><a class="header" href="#zone-236">Zone 236</a></h1>
<p>Zone #236 was one of the zones patch by update #6.</p>
<p><img src="yoda/patch/../../images/zone-236.png" alt="236" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/zone-236.md">Edit this file on GitHub.</a></footer><h1 id="zone-407"><a class="header" href="#zone-407">Zone 407</a></h1>
<p>Zone #407 was one of the zones patch by update #6.</p>
<p><img src="yoda/patch/../../images/zone-407.png" alt="407" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/zone-407.md">Edit this file on GitHub.</a></footer><h1 id="zone-474"><a class="header" href="#zone-474">Zone 474</a></h1>
<p>Zone #474 was one of the zones patch by update #6.</p>
<p><img src="yoda/patch/../../images/zone-474.png" alt="474" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/zone-474.md">Edit this file on GitHub.</a></footer><h1 id="zone-572"><a class="header" href="#zone-572">Zone 572</a></h1>
<p>Zone #572 was one of the zones patch by update #6.</p>
<p><img src="yoda/patch/../../images/zone-572.png" alt="572" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/patch/zone-572.md">Edit this file on GitHub.</a></footer><h1 id="trivia"><a class="header" href="#trivia">Trivia</a></h1>
<h2 id="promotional-screenshots"><a class="header" href="#promotional-screenshots">Promotional Screenshots</a></h2>
<p><img src="yoda/../images/promo.png" alt="Recreation of the promotional screenshots" /></p>
<p>After getting my hands on an actual retail copy of <em>Yoda Stories</em> I became curious of the screenshots shown on the back of the box. At first glance they seem to be captures of zones #95, #294 and #483. But after further inspection it's clear that none of the screenshots could have come from the final version of the game.</p>
<p>Zone #95 does not have any actions that could place Luke's X-Wing in the zone as shown in the screenshot.</p>
<p>Zone #294 is very close to the one depicted in the second screenshot, the only difference seems to be a missing crater tile next to Luke's head</p>
<p>The last screenshot was taken on a desert world. Zone #483 has very similar building and wall structures, but the dewback in the top left corner is missing.</p>
<p>I've created re-created the situation in each of the screenshots. They are available as downloads <a href="yoda/./promo-1.wld">here</a>, <a href="yoda/./promo-2.wld">here</a> and <a href="yoda/./promo-3.wld">here</a>.</p>
<p>Interestingly enough, the italian version of the box uses entirely different images that actually look like screenshots from the real game.</p>
<h2 id="left-over-debug-window"><a class="header" href="#left-over-debug-window">Left-over Debug Window</a></h2>
<blockquote>
<p>Checkout <em>The Cutting Room Floor</em>'s entry on <a href="https://tcrf.net/Star_Wars:_Yoda_Stories_(Windows)">Yoda Stories</a> for some more debug windows that are present in the program but can not be triggered.</p>
</blockquote>
<p>Apart from the cheat codes there is a debug window that can be accessed using the key combination <code>ctrl-F8</code>. A modal comes up that shows the current zone id, position and the id of this world's goal. The shortcut works in both <em>Yoda Stories</em> and <em>Indiana Jones and his Desktop Adventures</em>.</p>
<p><img src="yoda/../images/current-status-info.png" alt="Debug window showing information about the current zone" /></p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/yoda/trivia.md">Edit this file on GitHub.</a></footer><h1 id="yodeskksy"><a class="header" href="#yodeskksy">Yodesk.ksy</a></h1>
<p>This is a machine-readable definition of the file format used by <em>Yoda Stories</em>. It can be used to generate a parser or inspect files online in the <a href="https://ide.kaitai.io">Kaitai Web IDE</a>.</p>
<pre><code class="language-yaml">meta:
  id: yodesk
  application: &quot;Star Wars: Yoda Stories&quot;
  file-extension: dta
  license: CC0-1.0
  ks-version: 0.9
  endian: le
  encoding: ASCII
doc: |
  [Star Wars: Yoda Stories](https://en.wikipedia.org/wiki/Star_Wars:_Yoda_Stories) is a unique tile based game with procedurally
  generated worlds.
  This spec describes the file format used for all assets of the Windows
  version of the game.

  The file format follows the TLV (type-length-value) pattern to build a
  central catalog containing the most important (and globally accessible)
  assets of the game (e.g. puzzles, zones, tiles, etc.). The same pattern is
  also found in some catalog entries to encode arrays of variable-length
  structures.

  With every new game, Yoda Stories generates a new world. This is done by
  picking a random sample of puzzles from `PUZ2`. One of the chosen puzzles
  will be the goal, which when solved wins the game.
  Each puzzle provides an item when solved and some require one to be completed.
  During world generation a global world map of 10x10 sectors is filled with
  zones based on the selected puzzles.

  To add variety and interactivity to each zone the game includes a simple
  scripting engine. Zones can declare actions that when executed can for
  example set, move or delete tiles, drop items or activate enemies.

seq:
  - id: catalog
    type: catalog_entry
    repeat: until
    repeat-until: _.type == &quot;ENDF&quot;

types:
  catalog_entry:
    seq:
      - id: type
        type: str
        size: 4
      - id: size
        type: u4
        if: type != &quot;VERS&quot; and type != &quot;ZONE&quot;
      - id: content
        type:
          switch-on: type
          cases:
             '&quot;VERS&quot;': version
             '&quot;STUP&quot;': startup_image
             '&quot;CHAR&quot;': characters
             '&quot;CAUX&quot;': character_auxiliaries
             '&quot;CHWP&quot;': character_weapons
             '&quot;PUZ2&quot;': puzzles
             '&quot;SNDS&quot;': sounds
             '&quot;TILE&quot;': tiles
             '&quot;TNAM&quot;': tile_names
             '&quot;ZONE&quot;': zones
             '&quot;TGEN&quot;': tgen
             '&quot;ENDF&quot;': endf
             _: unknown_catalog_entry
  unknown_catalog_entry:
    seq:
      - id: data
        size: _parent.size
  version:
    seq:
      - id: version
        doc: Version of the file. This value is always set to 512.
        type: u4
  startup_image:
    doc: |
      A 288x288 bitmap to be shown while other assets are loaded and a new
      world is generated.
    seq:
      - id: pixels
        size: _parent.size
  sounds:
    doc: |
      This section declares sounds used in the game. The actual audio data is
      stored in wav files on the disk (in a directory named `sfx`) so this
      section contains paths to each sound file.
      Sounds can be referenced from the scripting language (see `play_sound`
      instruction opcode below) and from weapon (see `character` structure).
      Some sound ids (like the one when the hero is hit, or can't leave a
      zone) are hard coded in the game.
    seq:
      - id: count
        type: s2
      - id: sounds
        type: prefixed_strz
        repeat: expr
        repeat-expr: -count
  tile_names:
    seq:
      - id: names
        doc: |
          List of tile ids and their corresponding names. These are shown in
          the inventory or used in dialogs (see `speak_hero` and `speak_npc`
          opcodes).
        type: tile_name
        repeat: until
        repeat-until:  _.tile_id == 0xFF_FF
  tile_name:
    seq:
      - id: tile_id
        type: u2
      - id: name
        type: strz
        size: 0x18
        if: tile_id != 0xFF_FF
  tiles:
    seq:
      - id: tiles
        type: tiles_entries
        size: _parent.size
  tiles_entries:
    seq:
      - id: tiles
        type: tile
        repeat: eos
  tile:
      seq:
        - id: attributes
          type: tile_attributes
          size: 4
        - id: pixels
          size: 32 * 32
  tile_attributes:
      meta:
        bit-endian: le
      seq:
        - id: has_transparency
          type: b1
          doc: |
            Affects how tile image should be drawn. If set, the
            value 0 in `pixels` is treated as transparent. Otherwise
            it is drawn as black.
        - id: is_floor
          type: b1
          doc: |
            Tile is usually placed on the lowest layer of a zone
        - id: is_object
          type: b1
          doc: |
            Object, tile is usually placed on the middle layer of a zone
        - id: is_draggable
          type: b1
          doc: |
             If set and the tile is placed on the object layer it can be
             dragged and pushed around by the hero.
        - id: is_roof
          type: b1
          doc: |
             Tile is usually placed on the top layer (roof)
        - id: is_locator
          type: b1
          doc: |
             Locator, tile is used in world map view overview
        - id: is_weapon
          type: b1
          doc: |
             Identifies tiles that are mapped to weapons
        - id: is_item
          type: b1
        - id: is_character
          type: b1
          doc: |
            Tile forms part of a character
        - id: unused
          type: b7
        # Floor flags
        - id: is_doorway
          type: b1
          doc: |
            These tiles are doorways, monsters can't go
          if: is_floor
        # Locator flags
        - id: unused1
          type: b1
          if: is_locator
        - id: is_town
          type: b1
          doc: |
            Marks the spaceport on the map
          if: is_locator
        - id: is_unsolved_puzzle
          type: b1
          doc: |
            Marks a discovered, but unsolved puzzle on the map
          if: is_locator
        - id: is_solved_puzzle
          type: b1
          doc: |
            Marks a solved puzzle on the map
          if: is_locator
        - id: is_unsolved_travel
          type: b1
          doc: |
            Marks a place of travel on the map that has not been solved
          if: is_locator
        - id: is_solved_travel
          type: b1
          doc: |
            Marks a solved place of travel on the map
          if: is_locator
        - id: is_unsolved_blockade_north
          type: b1
          doc: |
            Marks a sector on the map that blocks access to northern zones
          if: is_locator
        - id: is_unsolved_blockade_south
          type: b1
          doc: |
            Marks a sector on the map that blocks access to southern zones
          if: is_locator
        - id: is_unsolved_blockade_west
          type: b1
          doc: |
            Marks a sector on the map that blocks access to western zones
          if: is_locator
        - id: is_unsolved_blockade_east
          type: b1
          doc: |
            Marks a sector on the map that blocks access to eastern zones
          if: is_locator
        - id: is_solved_blockade_north
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            northern zones
          if: is_locator
        - id: is_solved_blockade_south
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            southern zones
          if: is_locator
        - id: is_solved_blockade_west
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            western zones
          if: is_locator
        - id: is_solved_blockade_east
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            eastern zones
          if: is_locator
        - id: is_unsolved_goal
          type: b1
          doc: |
            The final puzzle of the world. Solving this wins the game
          if: is_locator
        - id: is_location_indicator
          type: b1
          doc: |
            Overlay to mark the current position on the map
          if: is_locator
        # Item flags
        - id: is_keycard
          type: b1
          if: is_item
        - id: is_tool
          type: b1
          if: is_item
        - id: is_part
          type: b1
          if: is_item
        - id: is_valuable
          type: b1
          if: is_item
        - id: is_map
          type: b1
          if: is_item
        - id: unused2
          type: b1
          if: is_item
        - id: is_edible
          type: b1
          if: is_item
        # Weapon flags
        - id: is_low_blaster
          type: b1
          doc: |
            Item is a low intensity blaster (like the blaster pistol)
          if: is_weapon
        - id: is_high_blaster
          type: b1
          doc: |
            Item is a high intensity blaster (like the blaster rifle)
          if: is_weapon
        - id: is_lightsaber
          type: b1
          if: is_weapon
        - id: is_the_force
          type: b1
          if: is_weapon
        # Character flags
        - id: is_hero
          type: b1
          if: is_character
        - id: is_enemy
          type: b1
          if: is_character
        - id: is_npc
          type: b1
          if: is_character
  action:
    doc: |
      Actions are the game's way to make static tile based maps more engaging
      and interactive. Each action consists of zero or more conditions and
      instructions, once all conditions are satisfied, all instructions are
      executed in order.

      To facilitate state, each zone has three 16-bit registers. These registers
      are named `counter`, `shared-counter` and `random`. In addition to these
      registers hidden tiles are sometimes used to mark state.
      There are conditions and instructions to query and update these registers.
      The `shared-counter` register is special in that it is shared between a
      zone and it's rooms. Instruction `0xc` roll_dice can be used to set the
      `random` register to a random value.

      A naive implementation of the scripting engine could look like this:

      ```
      for action in zone.actions:
        all_conditions_satisfied = False
        for condition in action.conditions:
            all_conditions_satisfied = check(condition)
            if !all_conditions_satisfied:
              break

        if !all_conditions_satisfied:
          continue

        for instruction in action.instructions:
          execute(instruction)
      ```

      See `condition_opcode` and `instruction_opcode` enums for a list of
      available opcodes and their meanings.
    seq:
      - id: marker
        contents: &quot;IACT&quot;
      - id: size
        type: u4
      - id: num_conditions
        type: u2
      - id: conditions
        type: condition
        repeat: expr
        repeat-expr: num_conditions
      - id: num_instructions
        type: u2
      - id: instructions
        type: instruction
        repeat: expr
        repeat-expr: num_instructions
  condition:
    seq:
      - id: opcode
        type: u2
        enum: condition_opcode
      - id: arguments
        type: s2
        repeat: expr
        repeat-expr: 5
      - id: len_text
        type: u2
      - id: text
        type: str
        size: len_text
        doc: |
          The `text_attribute` is never used, but seems to be included to
          shared the type with instructions.
    enums:
      condition_opcode:
        0x0:
          id:  zone_not_initialised
          doc: Evaluates to true exactly once (used for initialisation)
        0x1:
          id:  zone_entered
          doc: Evaluates to true if hero just entered the zone
        0x2:
          id:  bump
        0x3:
          id:  placed_item_is
        0x4:
          id:  standing_on
          doc: |
            Check if hero is at `args[0]`x`args[1]` and the floor tile is
            `args[2]`
        0x5:
          id:  counter_is
          doc: Current zone's `counter` value is equal to `args[0]`
        0x6:
          id:  random_is
          doc: Current zone's `random` value is equal to `args[0]`
        0x7:
          id:  random_is_greater_than
          doc: Current zone's `random` value is greater than `args[0]`
        0x8:
          id:  random_is_less_than
          doc: Current zone's `random` value is less than `args[0]`
        0x9:
          id:  enter_by_plane
        0xa:
          id:  tile_at_is
          doc: |
            Check if tile at `args[0]`x`args[1]`x`args[2]` is equal to
            `args[3]`
        0xb:
          id:  monster_is_dead
          doc: True if monster `args[0]` is dead.
        0xc:
          id:  has_no_active_monsters
          doc: undefined
        0xd:
          id:  has_item
          doc: |
            True if inventory contains `args[0]`.  If `args[0]` is `0xFFFF`
            check if inventory contains the item provided by the current
            zone's puzzle
        0xe:
          id:  required_item_is
        0xf:
          id:  ending_is
          doc: True if `args[0]` is equal to current goal item id
        0x10:
          id:  zone_is_solved
          doc: True if the current zone is solved
        0x11:
          id:  no_item_placed
          doc: Returns true if the user did not place an item
        0x12:
          id:  item_placed
          doc: Returns true if the user placed an item
        0x13:
          id:  health_is_less_than
          doc: Hero's health is less than `args[0]`.
        0x14:
          id:  health_is_greater_than
          doc: Hero's health is greater than `args[0]`.
        0x15: unused
        0x16:
          id:  find_item_is
          doc: True the item provided by current zone is `args[0]`
        0x17:
          id:  placed_item_is_not
        0x18:
          id:  hero_is_at
          doc: True if hero's x/y position is `args_0`x`args_1`.
        0x19:
          id:  shared_counter_is
          doc: Current zone's `shared_counter` value is equal to `args[0]`
        0x1a:
          id:  shared_counter_is_less_than
          doc: Current zone's `shared_counter` value is less than `args[0]`
        0x1b:
          id:  shared_counter_is_greater_than
          doc: Current zone's `shared_counter` value is greater than `args[0]`
        0x1c:
          id:  games_won_is
          doc: Total games won is equal to `args[0]`
        0x1d:
          id:  drops_quest_item_at
        0x1e:
          id:  has_any_required_item
          doc: |
            Determines if inventory contains any of the required items needed
            for current zone
        0x1f:
          id:  counter_is_not
          doc: Current zone's `counter` value is not equal to `args[0]`
        0x20:
          id:  random_is_not
          doc: Current zone's `random` value is not equal to `args[0]`
        0x21:
          id:  shared_counter_is_not
          doc: Current zone's `shared_counter` value is not equal to `args[0]`
        0x22:
          id:  is_variable
          doc: |
            Check if variable identified by `args[0]`⊕`args[1]`⊕`args[2]` is
            set to `args[3]`. Internally this is implemented as opcode 0x0a,
            check if tile at `args[0]`x`args[1]`x`args[2]` is equal to
            `args[3]`
        0x23:
          id:  games_won_is_greater_than
          doc: True, if total games won is greater than `args[0]`

  instruction:
    seq:
      - id: opcode
        type: u2
        enum: instruction_opcode
      - id: arguments
        type: s2
        repeat: expr
        repeat-expr: 5
      - id: len_text
        type: u2
      - id: text
        type: str
        size: len_text
    enums:
      instruction_opcode:
        0x0:
          id:  place_tile
          doc: |
            Place tile `args[3]` at `args[0]`x`args[1]`x`args[2]`. To remove a
            tile `args[3]` can be set to `0xFFFF`.
        0x1:
          id:  remove_tile
          doc: Remove tile at `args[0]`x`args[1]`x`args[2]`
        0x2:
          id:  move_tile
          doc: |
            Move tile at `args[0]`x`args[0]`x`args[2]` to
            `args[3]`x`args[4]`x`args[2]`.  *Note that this can not be used to
            move tiles between layers!*
        0x3:
          id:  draw_tile
        0x4:
          id:  speak_hero
          doc: |
            Show speech bubble next to hero. _Uses `text` attribute_.

            Script execution is paused until the speech bubble is dismissed.
        0x5:
          id:  speak_npc
          doc: |
            Show speech bubble at `args[0]`x`args[1]`. _Uses `text`
            attribute_. The characters `¢` and `¥` are used as placeholders
            for provided and required items of the current zone, respectively.

            Script execution is paused until the speech bubble is dismissed.
        0x6:
          id:  set_tile_needs_display
          doc: Redraw tile at `args[0]`x`args[1]`
        0x7:
          id:  set_rect_needs_display
          doc: |
            Redraw the part of the current scene, specified by a rectangle
            positioned at `args[0]`x`args[1]` with width `args[2]` and height
            `args[3]`.
        0x8:
          id:  wait
          doc: Pause script execution for one tick.
        0x9:
          id:  redraw
          doc: Redraw the whole scene immediately
        0xa:
          id:  play_sound
          doc: Play sound specified by `args[0]`
        0xb:
          id:  stop_sound
          doc: Stop playing sounds
        0xc:
          id:  roll_dice
          doc: |
            Set current zone's `random` to a random value between 1 and
            `args[0]`.
        0xd:
          id:  set_counter
          doc: Set current zone's `counter` value to a `args[0]`
        0xe:
          id:  add_to_counter
          doc: Add `args[0]` to current zone's `counter` value
        0xf:
          id:  set_variable
          doc: |
            Set variable identified by `args[0]`⊕`args[1]`⊕`args[2]` to
            `args[3]`.  Internally this is implemented as opcode 0x00, setting
            tile at `args[0]`x`args[1]`x`args[2]` to `args[3]`.
        0x10:
          id:  hide_hero
          doc: Hide hero
        0x11:
          id:  show_hero
          doc: Show hero
        0x12:
          id: move_hero_to
          doc: |
            Set hero's position to `args[0]`x`args[1]` ignoring impassable
            tiles.  Execute hotspot actions, redraw the current scene and move
            camera if the hero is not hidden.
        0x13:
          id: move_hero_by
          doc: |
            Moves hero relative to the current location by `args[0]` in x and
            `args[1]` in y direction.
        0x14:
          id: disable_action
          doc: |
            Disable current action, note that there's no way to activate the
            action again.
        0x15:
          id: enable_hotspot
          doc: Enable hotspot `args[0]` so it can be triggered.
        0x16:
          id: disable_hotspot
          doc: Disable hotspot `args[0]` so it can't be triggered anymore.
        0x17:
          id:  enable_monster
          doc: Enable monster `args[0]`
        0x18:
          id: disable_monster
          doc: Disable monster `args[0]`
        0x19:
          id: enable_all_monsters
          doc: Enable all monsters
        0x1a:
          id: disable_all_monsters
          doc: Disable all monsters
        0x1b:
          id: drop_item
          doc: |
            Drops item `args[0]` for pickup at `args[1]`x`args[2]`. If the
            item is 0xFFFF, it drops the current sector's find item instead.

            Script execution is paused until the item is picked up.
        0x1c:
          id: add_item
          doc: Add tile with id `args[0]` to inventory
        0x1d:
          id: remove_item
          doc: Remove one instance of item `args[0]` from the inventory
        0x1e:
          id: mark_as_solved
          doc: |
            Marks current sector solved for the overview map.
        0x1f:
          id: win_game
          doc: Ends the current story by winning.
        0x20:
          id: lose_game
          doc: Ends the current story by losing.
        0x21:
          id: change_zone
          doc: |
            Change current zone to `args[0]`. Hero will be placed at
            `args[1]`x`args[2]` in the new zone.
        0x22:
          id:  set_shared_counter
          doc: Set current zone's `shared_counter` value to a `args[0]`
        0x23:
          id:  add_to_shared_counter
          doc: Add `args[0]` to current zone's `shared_counter` value
        0x24:
          id:  set_random
          doc: Set current zone's `random` value to a `args[0]`
        0x25:
          id:  add_health
          doc: |
            Increase hero's health by `args[0]`. New health is capped at
            hero's max health (0x300). Argument 0 can also be negative
            subtract from hero's health.
  monster:
    doc: A monster is a enemy in a zone.
    seq:
      - id: character
        type: u2
      - id: x
        type: u2
      - id: y
        type: u2
      - id: loot
        doc: |
          References the item (loot - 1) that will be dropped if the monster
          is killed. If set to `0xFFFF` the current zone's quest item will be
          dropped.
        type: u2
      - id: drops_loot
        doc: If this field is anything other than 0 the monster may drop an
          item when killed.
        type: u4
      - id: waypoints
        type: waypoint
        repeat: expr
        repeat-expr: 4
  zone:
    seq:
      - id: planet
        doc: |
          Planet this zone can be placed on.

          During world generation the goal puzzle dictates which planet is
          chosen. Apart from `swamp` zones, only the zones with type `empty`
          or the chosen type are loaded when a game is in progress.
        type: u2
        enum: planet
      - id: size
        type: u4
      - id: index
        type: u2
      - id: marker
        contents: &quot;IZON&quot;
      - id: size2
        type: u4
      - id: width
        doc: Width of the zone in tiles. Either 9 or 18.
        type: u2
      - id: height
        doc: Height of the zone in tiles. Either 9 or 18.
        type: u2
      - id: type
        enum: zone_type
        type: u4
      - id: shared_counter
        doc: |
            Scripting register shared between the zone and its rooms.
        type: u2
        valid: 0xFF_FF
      - id: planet_again
        doc: Repetition of the `planet` field
        type: u2
      - id: tile_ids
        type: zone_spot
        repeat: expr
        repeat-expr: width * height
        doc: |
          `tile_ids` is made up of three interleaved tile layers ordered from
          bottom (floor) to top (roof).
          Tiles are often references via 3 coordinates (xyz), which
          corresponds to an index into this array calculated as `n = y * width
          * 3 + x * 3 = z`.
      - id: num_hotspots
        type: u2
      - id: hotspots
        type: hotspot
        repeat: expr
        repeat-expr: num_hotspots
      - id: izax
        type: zone_auxiliary
      - id: izx2
        type: zone_auxiliary_2
      - id: izx3
        type: zone_auxiliary_3
      - id: izx4
        type: zone_auxiliary_4
      - id: num_actions
        type: u2
      - id: actions
        type: action
        repeat: expr
        repeat-expr: num_actions
    enums:
      planet:
        0: none
        1: desert
        2: snow
        3: forest
        5: swamp
      zone_type:
        0:
          id: none
        1:
          id: empty
          doc: |
            Empty zones do not contain a puzzle to be solved and are used to
            fill the space between between zones that are relevant for winning
            the game.
        2:
          id: blockade_north
          doc: |
            This type of zone blocks access to sectors north of it until the
            puzzle is solved.
        3:
          id: blockade_south
          doc: |
            This type of zone blocks access to sectors south of it until the
            puzzle is solved.
        4:
          id: blockade_east
          doc: |
            This type of zone blocks access to sectors east of it until the
            puzzle is solved.
        5:
          id: blockade_west
          doc: |
            This type of zone blocks access to sectors west of it until the
            puzzle is solved.
        6:
          id: travel_start
          doc: |
            Starting point to travel to an island on the edge of the world.
            `travel_start` and `travel_end` zones are connected through
            hotspot of type `vehicle_to` and `vehicle_back`.
        7:
          id: travel_end
          doc: |
            Travel target that is only placed on an island at the edge of the
            world map during world generation.
        8:
          id: room
          doc: |
            A zone that can not be placed on the world map directly. Instead
            rooms are accessed via actions or hotspots of type `door_in`. They
            usually contain at least one `door_out` hotspot to get back to the
            other zone.
        9:
          id: load
          doc: |
            This type of zone is shown after the game has loaded all assets.
            It should resemble the image from the catalog entry of type
            `startup_image` for a smooth transition from loading to game play.
        10:
          id: goal
          doc: |
            Every world contains exactly one goal zone. Solving this zone wins
            the game.
        11:
          id: town
          doc: |
            This is the entry zone where the hero arrives after leaving the
            swamp planet. Each planet can only have one town zone.
        13:
          id: win
          doc: |
            Shown when a game is won. The score is rendered above the tiles at
            coordinates 5x7 and 6x7.
        14:
          id: lose
          doc: |
            Shown when a game is lost.
        15:
          id: trade
          doc: |
            In order to solve this zone and gain a new item the hero has to
            trade something in.
        16:
          id: use
          doc: |
            This type of zone can be solved by making applying a tool or using
            a keycard.
        17:
          id: find
          doc: |
            This type of zone can be solved without using items.
        18:
          id: find_unique_weapon
          doc: |
            This zone provides the hero with a unique weapon and will be
            placed closed to a town zone.
  zone_spot:
    seq:
      - id: column
        doc: from bottom to top, 0xFFFF indicates empty tiles
        type: u2
        repeat: expr
        repeat-expr: 3
  hotspot:
    doc: |
      In addition to actions some puzzles and events are triggered by
      hotspots. These hotspots are triggered when the hero steps on them or
      places an item at the location. Additionally, hotspots are used during
      world generation to mark places where NPCs can spawn.
    seq:
      - id: type
        type: u4
        enum: hotspot_type
      - id: x
        type: u2
      - id: y
        type: u2
      - id: enabled
        doc: |
          If disabled, hotspots can not be triggered. See instruction opcodes
          called `enable_hotspot` and `disable_hotspot`.
        type: u2
      - id: argument
        type: u2
    enums:
      hotspot_type:
        0:
          id: drop_quest_item
          doc: |
            Drops the item provided by the zone when solved. Can be set to a
            specific item, or to `0xFFFF` to use the one from the currently
            assigned puzzle.
        1:
          id: spawn_location
          doc: |
            Possible spawn location for one of the zone's NPCs.
        2:
          id: drop_unique_weapon
          doc: |
            Hotspot that drops the unique weapon found in zones of type
            `find_unique_weapon`.
        3:
          id: vehicle_to
          doc: |
            Used in `travel_start` zones as a trigger to teleport to the
            corresponding `travel_end` zone. The hotspot argument contains the
            id of the zone to teleport to.
        4:
          id: vehicle_back
          doc: |
            Counter part to `vehicle_to` hotspots. This is used to determine
            the hero's position on the zone after the `vehicle_to` hotspot has
            been triggered and to teleport back to the zone on main land.
        5:
          id: drop_map
          doc: |
            Hotspot that drops the map (aka locator) tile. One `find` zone
            with a hotspot of this type will be placed next to a town during
            world generation.
        6:
          id: drop_item
          doc: |
             Hotspot that, when triggered drops the item specified in the
             hotspot's argument. If the item is set to `0xFFFF` the zone's
             quest item will be dropped.
        7:
          id: npc
          doc: |
            This seems to be a placeholder for a pre-assigned NPC.
        8:
          id: drop_weapon
          doc: |
            Drops a weapon (specified by the hotspot argument) when triggered.
        9:
          id: door_in
          doc: |
            When triggered this hotspot type move the hero to the zone
            specified in the hotspot argument. The hero's location on the new
            zone will be determined by a corresponding `door_out` hotspot in
            the target zone.
        10:
          id: door_out
          doc: |
            Determines where the hero will be placed when the zone is entered
            through a door. When triggered, this transports the player back to
            the `door_in` hotspot they game from.
        11: unused
        12: lock
        13:
          id: teleporter
          doc: |
            Teleporter hotspots can be used to instantly teleport to other
            (visited) teleporters on the map
        14:
          id: ship_to_planet
          doc: |
            Behaves similar to the `vehicle_to` hotspot type but travels
            between the town and the swamp planet.
        15:
          id: ship_from_planet
          doc: |
            Behaves similar to the `vehicle_back` hotspot type but travels
            between the town and the swamp planet.

  zone_auxiliary:
    seq:
      - id: marker
        contents: &quot;IZAX&quot;
      - id: size
        type: u4
      - type: u2
      - id: num_monsters
        type: u2
      - id: monsters
        type: monster
        repeat: expr
        repeat-expr: num_monsters
      - id: num_required_items
        type: u2
      - id: required_items
        doc: List of items that can be used to solve the zone.
        type: u2
        repeat: expr
        repeat-expr: num_required_items
      - id: num_goal_items
        type: u2
      - id: goal_items
        doc: |
          Additional items that are needed to solve the zone. Only used if the
          zone type is `goal`.
        type: u2
        repeat: expr
        repeat-expr: num_goal_items
  zone_auxiliary_2:
    seq:
      - id: marker
        contents: &quot;IZX2&quot;
      - id: size
        type: u4
      - id: num_provided_items
        type: u2
      - id: provided_items
        doc: Items that can be gained when the zone is solved.
        type: u2
        repeat: expr
        repeat-expr: num_provided_items
  zone_auxiliary_3:
    seq:
      - id: marker
        contents: &quot;IZX3&quot;
      - id: size
        type: u4
      - id: num_npcs
        type: u2
      - id: npcs
        doc: |
          NPCs that can be placed in the zone to trade items with the hero.
        type: u2
        repeat: expr
        repeat-expr: num_npcs
  zone_auxiliary_4:
    seq:
      - id: marker
        contents: &quot;IZX4&quot;
      - id: size
        type: u4
      - type: u2
  zones:
    seq:
      - id: num_zones
        type: u2
      - id: zones
        type: zone
        repeat: expr
        repeat-expr: num_zones
  puzzles:
    seq:
      - id: puzzles
        type: puzzle
        repeat: until
        repeat-until: _.index == 0xFF_FF
  puzzle:
    seq:
      - id: index
        type: u2
      - id: marker
        if: index != 0xFF_FF
        contents: &quot;IPUZ&quot;
      - id: size
        type: u4
        if: index != 0xFF_FF
      - id: type
        type: u4
        if: index != 0xFF_FF
      - id: item1_class
        type: u4
        enum: puzzle_item_class
        if: index != 0xFF_FF
      - id: item2_class
        type: u4
        enum: puzzle_item_class
        if: index != 0xFF_FF
      - type: u2
        if: index != 0xFF_FF
      - id: strings
        type: prefixed_str
        repeat: expr
        repeat-expr: 5
        if: index != 0xFF_FF
      - id: item_1
        type: u2
        if: index != 0xFF_FF
      - id: item_2
        type: u2
        if: index != 0xFF_FF
    enums:
      puzzle_item_class:
        0: keycard
        1: tool
        2: part
        4: valuable
        0xFFFF_FFFF: none
  endf:
    seq: []
  tgen:
    doc: |
        The TGEN section is only present in non-english versions of the game. It's purpose or
        internal structure is unknown.
    seq:
      - id: data
        size: _parent.size
  characters:
    seq:
      - id: characters
        type: character
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character:
    seq:
      - id: index
        type: u2
      - id: marker
        contents: &quot;ICHA&quot;
        if: index != 0xFF_FF
      - id: size
        type: u4
        if: index != 0xFF_FF
      - id: name
        type: strz
        size: 16
        if: index != 0xFF_FF
      - id: type
        type: u2
        enum: character_type
        if: index != 0xFF_FF
      - id: movement_type
        type: u2
        enum: movement_type
        if: index != 0xFF_FF
      - id: probably_garbage_1
        type: u2
        if: index != 0xFF_FF
      - id: probably_garbage_2
        type: u4
        if: index != 0xFF_FF
      - id: frame_1
        type: char_frame
        if: index != 0xFF_FF
      - id: frame_2
        type: char_frame
        if: index != 0xFF_FF
      - id: frame_3
        type: char_frame
        if: index != 0xFF_FF
    enums:
      character_type:
        1: hero
        2: enemy
        4: weapon
      movement_type:
        0: none
        4: sit
        9: wander
        10: patrol
        12: animation
  char_frame:
    seq:
      - id: tiles
        type: u2
        repeat: expr
        repeat-expr: 0x8
  character_auxiliaries:
    seq:
      - id: auxiliaries
        type: character_auxiliary
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character_auxiliary:
    seq:
      - id: index
        type: u2
      - id: damage
        type: s2
        if: index != 0xFF_FF
  character_weapons:
    seq:
      - id: weapons
        type: character_weapon
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character_weapon:
    seq:
      - id: index
        type: u2
      - id: reference
        doc: |
          If the character referenced by index is a monster, this is a
          reference to their weapon, otherwise this is the index of the
          weapon's sound
        type: u2
        if: index != 0xFF_FF
      - id: health
        type: u2
        if: index != 0xFF_FF
  # Utilities
  prefixed_str:
    seq:
      - id: len_content
        type: u2
      - id: content
        type: str
        size: len_content
  prefixed_strz:
    seq:
      - id: len_content
        type: u2
      - id: content
        type: strz
        size: len_content
  waypoint:
    seq:
    - id: x
      type: u4
    - id: y
      type: u4
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/appendix/yodesk.md">Edit this file on GitHub.</a></footer><h1 id="deskadvksy"><a class="header" href="#deskadvksy">Deskadv.ksy</a></h1>
<p>This is a machine-readable definition of the file format used by <em>Indiana Jones and His Desktop Adventures</em>. It can be used to generate a parser or inspect files online in the <a href="https://ide.kaitai.io">Kaitai Web IDE</a>.</p>
<pre><code class="language-yaml">meta:
  id: deskadv
  application: &quot;Indiana Jones and His Desktop Adventures&quot;
  file-extension: daw
  license: CC0-1.0
  ks-version: 0.9
  endian: le
  encoding: ISO-8859-2

seq:
  - id: catalog
    type: catalog_entry
    repeat: until
    repeat-until: _.type == &quot;ENDF&quot;

types:
  catalog_entry:
    seq:
      - id: type
        type: str
        size: 4
      - id: size
        type: u4
        if: type != &quot;VERS&quot;
      - id: content
        type:
          switch-on: type
          cases:
             '&quot;VERS&quot;': version
             '&quot;STUP&quot;': startup_image
             '&quot;CHAR&quot;': characters
             '&quot;CAUX&quot;': character_auxiliaries
             '&quot;CHWP&quot;': character_weapons
             '&quot;PUZ2&quot;': puzzles
             '&quot;SNDS&quot;': sounds
             '&quot;TILE&quot;': tiles
             '&quot;TNAM&quot;': tile_names
             '&quot;ANAM&quot;': action_names
             '&quot;PNAM&quot;': puzzle_names
             '&quot;ZNAM&quot;': zone_names
             '&quot;HTSP&quot;': hotspots
             '&quot;ACTN&quot;': actions
             '&quot;ZONE&quot;': zones
             '&quot;ZAUX&quot;': zones_aux_1
             '&quot;ZAX2&quot;': zones_aux_2
             '&quot;ZAX3&quot;': zones_aux_3
             '&quot;ZAX4&quot;': zones_aux_4
             '&quot;TGEN&quot;': tgen
             '&quot;ENDF&quot;': endf
             _: unknown_catalog_entry

  unknown_catalog_entry:
    seq:
      - id: data
        size: _parent.size
  version:
    seq:
      - id: version
        doc: Version of the file. This value is always set to 512.
        type: u4
  startup_image:
    doc: |
      A 288x288 bitmap to be shown while other assets are loaded and a new
      world is generated.
    seq:
      - id: pixels
        size: _parent.size
  sounds:
    doc: |
      This section declares sounds used in the game. The actual audio data is
      stored in wav files on the disk (in a directory named `sfx`) so this
      section contains paths to each sound file.
      Sounds can be referenced from the scripting language (see `play_sound`
      instruction opcode below) and from weapon (see `character` structure).
      Some sound ids (like the one when the hero is hit, or can't leave a
      zone) are hard coded in the game.
    seq:
      - id: count
        type: s2
      - id: sounds
        type: prefixed_strz
        repeat: expr
        repeat-expr: -count
  tile_names:
    seq:
      - id: names
        doc: |
          List of tile ids and their corresponding names. These are shown in
          the inventory or used in dialogs (see `speak_hero` and `speak_npc`
          opcodes).
        type: tile_name
        repeat: until
        repeat-until:  _.tile_id == 0xFF_FF
  tile_name:
    seq:
      - id: tile_id
        type: u2
      - id: name
        type: strz
        size: 0x10
        if: tile_id != 0xFF_FF
  tiles:
    seq:
      - id: tiles
        type: tiles_entries
        size: _parent.size
  tiles_entries:
    seq:
      - id: tiles
        type: tile
        repeat: eos
  tile:
      seq:
        - id: attributes
          type: tile_attributes
          size: 4
        - id: pixels
          size: 32 * 32
  tile_attributes:
      meta:
        bit-endian: le
      seq:
        - id: has_transparency
          type: b1
          doc: |
            Affects how tile image should be drawn. If set, the
            value 0 in `pixels` is treated as transparent. Otherwise
            it is drawn as black.
        - id: is_floor
          type: b1
          doc: |
            Tile is usually placed on the lowest layer of a zone
        - id: is_object
          type: b1
          doc: |
            Object, tile is usually placed on the middle layer of a zone
        - id: is_draggable
          type: b1
          doc: |
             If set and the tile is placed on the object layer it can be
             dragged and pushed around by the hero.
        - id: is_roof
          type: b1
          doc: |
             Tile is usually placed on the top layer (roof)
        - id: is_locator
          type: b1
          doc: |
             Locator, tile is used in world map view overview
        - id: is_weapon
          type: b1
          doc: |
             Identifies tiles that are mapped to weapons
        - id: is_item
          type: b1
        - id: is_character
          type: b1
          doc: |
            Tile forms part of a character
        - id: unused
          type: b7
        # Floor flags
        - id: is_doorway
          type: b1
          doc: |
            These tiles are doorways, monsters can't go
          if: is_floor
        # Locator flags
        - id: unused1
          type: b1
          if: is_locator
        - id: is_town
          type: b1
          doc: |
            Marks the spaceport on the map
          if: is_locator
        - id: is_unsolved_puzzle
          type: b1
          doc: |
            Marks a discovered, but unsolved puzzle on the map
          if: is_locator
        - id: is_solved_puzzle
          type: b1
          doc: |
            Marks a solved puzzle on the map
          if: is_locator
        - id: is_unsolved_travel
          type: b1
          doc: |
            Marks a place of travel on the map that has not been solved
          if: is_locator
        - id: is_solved_travel
          type: b1
          doc: |
            Marks a solved place of travel on the map
          if: is_locator
        - id: is_unsolved_blockade_north
          type: b1
          doc: |
            Marks a sector on the map that blocks access to northern zones
          if: is_locator
        - id: is_unsolved_blockade_south
          type: b1
          doc: |
            Marks a sector on the map that blocks access to southern zones
          if: is_locator
        - id: is_unsolved_blockade_west
          type: b1
          doc: |
            Marks a sector on the map that blocks access to western zones
          if: is_locator
        - id: is_unsolved_blockade_east
          type: b1
          doc: |
            Marks a sector on the map that blocks access to eastern zones
          if: is_locator
        - id: is_solved_blockade_north
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            northern zones
          if: is_locator
        - id: is_solved_blockade_south
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            southern zones
          if: is_locator
        - id: is_solved_blockade_west
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            western zones
          if: is_locator
        - id: is_solved_blockade_east
          type: b1
          doc: |
            Marks a solved sector on the map that used to block access to
            eastern zones
          if: is_locator
        - id: is_unsolved_goal
          type: b1
          doc: |
            The final puzzle of the world. Solving this wins the game
          if: is_locator
        - id: is_location_indicator
          type: b1
          doc: |
            Overlay to mark the current position on the map
          if: is_locator
        # Item flags
        - id: is_keycard
          type: b1
          if: is_item
        - id: is_tool
          type: b1
          if: is_item
        - id: is_part
          type: b1
          if: is_item
        - id: is_valuable
          type: b1
          if: is_item
        - id: is_map
          type: b1
          if: is_item
        - id: unused2
          type: b1
          if: is_item
        - id: is_edible
          type: b1
          if: is_item
        # Weapon flags
        - id: is_low_blaster
          type: b1
          doc: |
            Item is a low intensity blaster (like the blaster pistol)
          if: is_weapon
        - id: is_high_blaster
          type: b1
          doc: |
            Item is a high intensity blaster (like the blaster rifle)
          if: is_weapon
        - id: is_lightsaber
          type: b1
          if: is_weapon
        - id: is_the_force
          type: b1
          if: is_weapon
        # Character flags
        - id: is_hero
          type: b1
          if: is_character
        - id: is_enemy
          type: b1
          if: is_character
        - id: is_npc
          type: b1
          if: is_character
  action:
    doc: |
      Actions are the game's way to make static tile based maps more engaging
      and interactive. Each action consists of zero or more conditions and
      instructions, once all conditions are satisfied, all instructions are
      executed in order.

      To facilitate state, each zone has three 16-bit registers. These registers
      are named `counter`, `shared-counter` and `random`. In addition to these
      registers hidden tiles are sometimes used to mark state.
      There are conditions and instructions to query and update these registers.
      The `shared-counter` register is special in that it is shared between a
      zone and it's rooms. Instruction `0xc` roll_dice can be used to set the
      `random` register to a random value.

      A naive implementation of the scripting engine could look like this:

      ```
      for action in zone.actions:
        all_conditions_satisfied = False
        for condition in action.conditions:
            all_conditions_satisfied = check(condition)
            if !all_conditions_satisfied:
              break

        if !all_conditions_satisfied:
          continue

        for instruction in action.instructions:
          execute(instruction)
      ```

      See `condition_opcode` and `instruction_opcode` enums for a list of
      available opcodes and their meanings.
    seq:
      - id: marker
        contents: &quot;IACT&quot;
      - id: size
        type: u4
      - id: num_conditions
        type: u2
      - id: conditions
        type: condition
        repeat: expr
        repeat-expr: num_conditions
      - id: num_instructions
        type: u2
      - id: instructions
        type: instruction
        repeat: expr
        repeat-expr: num_instructions
  condition:
    seq:
      - id: opcode
        type: u2
        enum: condition_opcode
      - id: arguments
        type: s2
        repeat: expr
        repeat-expr: 5
      - id: len_text
        type: u2
      - id: text
        type: str
        size: len_text
        doc: |
          The `text_attribute` is never used, but seems to be included to
          shared the type with instructions.
    enums:
      condition_opcode:
        0x0:
          id:  zone_not_initialised
          doc: Evaluates to true exactly once (used for initialisation)
        0x1:
          id:  zone_entered
          doc: Evaluates to true if hero just entered the zone
        0x2:
          id:  bump
        0x3:
          id:  placed_item_is
        0x4:
          id:  standing_on
          doc: |
            Check if hero is at `args[0]`x`args[1]` and the floor tile is
            `args[2]`
        0x5:
          id:  counter_is
          doc: Current zone's `counter` value is equal to `args[0]`
        0x6:
          id:  random_is
          doc: Current zone's `random` value is equal to `args[0]`
        0x7:
          id:  random_is_greater_than
          doc: Current zone's `random` value is greater than `args[0]`
        0x8:
          id:  random_is_less_than
          doc: Current zone's `random` value is less than `args[0]`
        0x9:
          id:  enter_by_plane
        0xa:
          id:  tile_at_is
          doc: |
            Check if tile at `args[0]`x`args[1]`x`args[2]` is equal to
            `args[3]`
        0xb:
          id:  monster_is_dead
          doc: True if monster `args[0]` is dead.
        0xc:
          id:  has_no_active_monsters
          doc: undefined
        0xd:
          id:  has_item
          doc: |
            True if inventory contains `args[0]`.  If `args[0]` is `0xFFFF`
            check if inventory contains the item provided by the current
            zone's puzzle
        0xe:
          id:  required_item_is
        0xf:
          id:  ending_is
          doc: True if `args[0]` is equal to current goal item id
        0x10:
          id:  zone_is_solved
          doc: True if the current zone is solved
        0x11:
          id:  no_item_placed
          doc: Returns true if the user did not place an item
        0x12:
          id:  item_placed
          doc: Returns true if the user placed an item
        0x13:
          id:  health_is_less_than
          doc: Hero's health is less than `args[0]`.
        0x14:
          id:  health_is_greater_than
          doc: Hero's health is greater than `args[0]`.
        0x15: unused
        0x16:
          id:  find_item_is
          doc: True the item provided by current zone is `args[0]`
        0x17:
          id:  placed_item_is_not
        0x18:
          id:  hero_is_at
          doc: True if hero's x/y position is `args_0`x`args_1`.
        0x19:
          id:  shared_counter_is
          doc: Current zone's `shared_counter` value is equal to `args[0]`
        0x1a:
          id:  shared_counter_is_less_than
          doc: Current zone's `shared_counter` value is less than `args[0]`
        0x1b:
          id:  shared_counter_is_greater_than
          doc: Current zone's `shared_counter` value is greater than `args[0]`
        0x1c:
          id:  games_won_is
          doc: Total games won is equal to `args[0]`
        0x1d:
          id:  drops_quest_item_at
        0x1e:
          id:  has_any_required_item
          doc: |
            Determines if inventory contains any of the required items needed
            for current zone
        0x1f:
          id:  counter_is_not
          doc: Current zone's `counter` value is not equal to `args[0]`
        0x20:
          id:  random_is_not
          doc: Current zone's `random` value is not equal to `args[0]`
        0x21:
          id:  shared_counter_is_not
          doc: Current zone's `shared_counter` value is not equal to `args[0]`
        0x22:
          id:  is_variable
          doc: |
            Check if variable identified by `args[0]`⊕`args[1]`⊕`args[2]` is
            set to `args[3]`. Internally this is implemented as opcode 0x0a,
            check if tile at `args[0]`x`args[1]`x`args[2]` is equal to
            `args[3]`
        0x23:
          id:  games_won_is_greater_than
          doc: True, if total games won is greater than `args[0]`

  instruction:
    seq:
      - id: opcode
        type: u2
        enum: instruction_opcode
      - id: arguments
        type: s2
        repeat: expr
        repeat-expr: 5
      - id: len_text
        type: u2
      - id: text
        type: str
        size: len_text
    enums:
      instruction_opcode:
        0x0:
          id:  place_tile
          doc: |
            Place tile `args[3]` at `args[0]`x`args[1]`x`args[2]`. To remove a
            tile `args[3]` can be set to `0xFFFF`.
        0x1:
          id:  remove_tile
          doc: Remove tile at `args[0]`x`args[1]`x`args[2]`
        0x2:
          id:  move_tile
          doc: |
            Move tile at `args[0]`x`args[0]`x`args[2]` to
            `args[3]`x`args[4]`x`args[2]`.  *Note that this can not be used to
            move tiles between layers!*
        0x3:
          id:  draw_tile
        0x4:
          id:  speak_hero
          doc: |
            Show speech bubble next to hero. _Uses `text` attribute_.

            Script execution is paused until the speech bubble is dismissed.
        0x5:
          id:  speak_npc
          doc: |
            Show speech bubble at `args[0]`x`args[1]`. _Uses `text`
            attribute_. The characters `¢` and `¥` are used as placeholders
            for provided and required items of the current zone, respectively.

            Script execution is paused until the speech bubble is dismissed.
        0x6:
          id:  set_tile_needs_display
          doc: Redraw tile at `args[0]`x`args[1]`
        0x7:
          id:  set_rect_needs_display
          doc: |
            Redraw the part of the current scene, specified by a rectangle
            positioned at `args[0]`x`args[1]` with width `args[2]` and height
            `args[3]`.
        0x8:
          id:  wait
          doc: Pause script execution for one tick.
        0x9:
          id:  redraw
          doc: Redraw the whole scene immediately
        0xa:
          id:  play_sound
          doc: Play sound specified by `args[0]`
        0xb:
          id:  stop_sound
          doc: Stop playing sounds
        0xc:
          id:  roll_dice
          doc: |
            Set current zone's `random` to a random value between 1 and
            `args[0]`.
        0xd:
          id:  set_counter
          doc: Set current zone's `counter` value to a `args[0]`
        0xe:
          id:  add_to_counter
          doc: Add `args[0]` to current zone's `counter` value
        0xf:
          id:  set_variable
          doc: |
            Set variable identified by `args[0]`⊕`args[1]`⊕`args[2]` to
            `args[3]`.  Internally this is implemented as opcode 0x00, setting
            tile at `args[0]`x`args[1]`x`args[2]` to `args[3]`.
        0x10:
          id:  hide_hero
          doc: Hide hero
        0x11:
          id:  show_hero
          doc: Show hero
        0x12:
          id: move_hero_to
          doc: |
            Set hero's position to `args[0]`x`args[1]` ignoring impassable
            tiles.  Execute hotspot actions, redraw the current scene and move
            camera if the hero is not hidden.
        0x13:
          id: move_hero_by
          doc: |
            Moves hero relative to the current location by `args[0]` in x and
            `args[1]` in y direction.
        0x14:
          id: disable_action
          doc: |
            Disable current action, note that there's no way to activate the
            action again.
        0x15:
          id: enable_hotspot
          doc: Enable hotspot `args[0]` so it can be triggered.
        0x16:
          id: disable_hotspot
          doc: Disable hotspot `args[0]` so it can't be triggered anymore.
        0x17:
          id:  enable_monster
          doc: Enable monster `args[0]`
        0x18:
          id: disable_monster
          doc: Disable monster `args[0]`
        0x19:
          id: enable_all_monsters
          doc: Enable all monsters
        0x1a:
          id: disable_all_monsters
          doc: Disable all monsters
        0x1b:
          id: drop_item
          doc: |
            Drops item `args[0]` for pickup at `args[1]`x`args[2]`. If the
            item is 0xFFFF, it drops the current sector's find item instead.

            Script execution is paused until the item is picked up.
        0x1c:
          id: add_item
          doc: Add tile with id `args[0]` to inventory
        0x1d:
          id: remove_item
          doc: Remove one instance of item `args[0]` from the inventory
        0x1e:
          id: mark_as_solved
          doc: |
            Marks current sector solved for the overview map.
        0x1f:
          id: win_game
          doc: Ends the current story by winning.
        0x20:
          id: lose_game
          doc: Ends the current story by losing.
        0x21:
          id: change_zone
          doc: |
            Change current zone to `args[0]`. Hero will be placed at
            `args[1]`x`args[2]` in the new zone.
        0x22:
          id:  set_shared_counter
          doc: Set current zone's `shared_counter` value to a `args[0]`
        0x23:
          id:  add_to_shared_counter
          doc: Add `args[0]` to current zone's `shared_counter` value
        0x24:
          id:  set_random
          doc: Set current zone's `random` value to a `args[0]`
        0x25:
          id:  add_health
          doc: |
            Increase hero's health by `args[0]`. New health is capped at
            hero's max health (0x300). Argument 0 can also be negative
            subtract from hero's health.
  monster:
    doc: A monster is a enemy in a zone.
    seq:
      - id: character
        type: u2
      - id: x
        type: u2
      - id: y
        type: u2
  zone:
    seq:
      - id: marker
        contents: &quot;IZON&quot;
      - id: size2
        type: u4
      - id: width
        doc: Width of the zone in tiles. Either 9 or 18.
        type: u2
      - id: height
        doc: Height of the zone in tiles. Either 9 or 18.
        type: u2
      - id: type
        enum: zone_type
        type: u4
      - id: tile_ids
        type: zone_spot
        repeat: expr
        repeat-expr: width * height
        doc: |
          `tile_ids` is made up of three interleaved tile layers ordered from
          bottom (floor) to top (roof).
          Tiles are often references via 3 coordinates (xyz), which
          corresponds to an index into this array calculated as `n = y * width
          * 3 + x * 3 = z`.
    enums:
      planet:
        0: none
        1: desert
        2: snow
        3: forest
        5: swamp
      zone_type:
        0:
          id: none
        1:
          id: empty
          doc: |
            Empty zones do not contain a puzzle to be solved and are used to
            fill the space between between zones that are relevant for winning
            the game.
        2:
          id: blockade_north
          doc: |
            This type of zone blocks access to sectors north of it until the
            puzzle is solved.
        3:
          id: blockade_south
          doc: |
            This type of zone blocks access to sectors south of it until the
            puzzle is solved.
        4:
          id: blockade_east
          doc: |
            This type of zone blocks access to sectors east of it until the
            puzzle is solved.
        5:
          id: blockade_west
          doc: |
            This type of zone blocks access to sectors west of it until the
            puzzle is solved.
        6:
          id: travel_start
          doc: |
            Starting point to travel to an island on the edge of the world.
            `travel_start` and `travel_end` zones are connected through
            hotspot of type `vehicle_to` and `vehicle_back`.
        7:
          id: travel_end
          doc: |
            Travel target that is only placed on an island at the edge of the
            world map during world generation.
        8:
          id: room
          doc: |
            A zone that can not be placed on the world map directly. Instead
            rooms are accessed via actions or hotspots of type `door_in`. They
            usually contain at least one `door_out` hotspot to get back to the
            other zone.
        9:
          id: load
          doc: |
            This type of zone is shown after the game has loaded all assets.
            It should resemble the image from the catalog entry of type
            `startup_image` for a smooth transition from loading to game play.
        10:
          id: goal
          doc: |
            Every world contains exactly one goal zone. Solving this zone wins
            the game.
        11:
          id: town
          doc: |
            This is the entry zone where the hero arrives after leaving the
            swamp planet. Each planet can only have one town zone.
        13:
          id: win
          doc: |
            Shown when a game is won. The score is rendered above the tiles at
            coordinates 5x7 and 6x7.
        14:
          id: lose
          doc: |
            Shown when a game is lost.
        15:
          id: trade
          doc: |
            In order to solve this zone and gain a new item the hero has to
            trade something in.
        16:
          id: use
          doc: |
            This type of zone can be solved by making applying a tool or using
            a keycard.
        17:
          id: find
          doc: |
            This type of zone can be solved without using items.
        18:
          id: find_unique_weapon
          doc: |
            This zone provides the hero with a unique weapon and will be
            placed closed to a town zone.
  zone_spot:
    seq:
      - id: column
        doc: from bottom to top, 0xFFFF indicates empty tiles
        type: u2
        repeat: expr
        repeat-expr: 3
  hotspot:
    doc: |
      In addition to actions some puzzles and events are triggered by
      hotspots. These hotspots are triggered when the hero steps on them or
      places an item at the location. Additionally, hotspots are used during
      world generation to mark places where NPCs can spawn.
    seq:
      - id: type
        type: u4
        enum: hotspot_type
      - id: x
        type: u2
      - id: y
        type: u2
      - id: enabled
        doc: |
          If disabled, hotspots can not be triggered. See instruction opcodes
          called `enable_hotspot` and `disable_hotspot`.
        type: u2
      - id: argument
        type: u2
    enums:
      hotspot_type:
        0:
          id: drop_quest_item
          doc: |
            Drops the item provided by the zone when solved. Can be set to a
            specific item, or to `0xFFFF` to use the one from the currently
            assigned puzzle.
        1:
          id: spawn_location
          doc: |
            Possible spawn location for one of the zone's NPCs.
        2:
          id: drop_unique_weapon
          doc: |
            Hotspot that drops the unique weapon found in zones of type
            `find_unique_weapon`.
        3:
          id: vehicle_to
          doc: |
            Used in `travel_start` zones as a trigger to teleport to the
            corresponding `travel_end` zone. The hotspot argument contains the
            id of the zone to teleport to.
        4:
          id: vehicle_back
          doc: |
            Counter part to `vehicle_to` hotspots. This is used to determine
            the hero's position on the zone after the `vehicle_to` hotspot has
            been triggered and to teleport back to the zone on main land.
        5:
          id: drop_map
          doc: |
            Hotspot that drops the map (aka locator) tile. One `find` zone
            with a hotspot of this type will be placed next to a town during
            world generation.
        6:
          id: drop_item
          doc: |
             Hotspot that, when triggered drops the item specified in the
             hotspot's argument. If the item is set to `0xFFFF` the zone's
             quest item will be dropped.
        7:
          id: npc
          doc: |
            This seems to be a placeholder for a pre-assigned NPC.
        8:
          id: drop_weapon
          doc: |
            Drops a weapon (specified by the hotspot argument) when triggered.
        9:
          id: door_in
          doc: |
            When triggered this hotspot type move the hero to the zone
            specified in the hotspot argument. The hero's location on the new
            zone will be determined by a corresponding `door_out` hotspot in
            the target zone.
        10:
          id: door_out
          doc: |
            Determines where the hero will be placed when the zone is entered
            through a door. When triggered, this transports the player back to
            the `door_in` hotspot they game from.
        11: unused
        12: lock
        13:
          id: teleporter
          doc: |
            Teleporter hotspots can be used to instantly teleport to other
            (visited) teleporters on the map
        14:
          id: ship_to_planet
          doc: |
            Behaves similar to the `vehicle_to` hotspot type but travels
            between the town and the swamp planet.
        15:
          id: ship_from_planet
          doc: |
            Behaves similar to the `vehicle_back` hotspot type but travels
            between the town and the swamp planet.

  zone_auxiliary:
    seq:
      - id: marker
        contents: &quot;IZAX&quot;
      - id: size
        type: u4
      - type: u2
      - id: num_monsters
        type: u2
      - id: monsters
        type: monster
        repeat: expr
        repeat-expr: num_monsters
      - id: num_required_items
        type: u2
      - id: required_items
        doc: List of items that can be used to solve the zone.
        type: u2
        repeat: expr
        repeat-expr: num_required_items
  zone_auxiliary_2:
    seq:
      - id: marker
        contents: &quot;IZX2&quot;
      - id: size
        type: u4
      - id: num_provided_items
        type: u2
      - id: provided_items
        doc: Items that can be gained when the zone is solved.
        type: u2
        repeat: expr
        repeat-expr: num_provided_items
  zone_auxiliary_3:
    seq:
      - id: marker
        contents: &quot;IZX3&quot;
      - id: size
        type: u4
      - id: num_npcs
        type: u2
      - id: npcs
        doc: |
          NPCs that can be placed in the zone to trade items with the hero.
        type: u2
        repeat: expr
        repeat-expr: num_npcs
  zone_auxiliary_4:
    seq:
      - id: marker
        contents: &quot;IZX4&quot;
      - id: size
        type: u4
      - type: u2
  zones:
    seq:
      - id: num_zones
        type: u2
      - id: zones
        type: zone
        repeat: expr
        repeat-expr: num_zones
  puzzles:
    seq:
      - id: puzzles
        type: puzzle
        repeat: until
        repeat-until: _.index == 0xFF_FF
  puzzle:
    seq:
      - id: index
        type: u2
      - id: marker
        if: index != 0xFF_FF
        contents: &quot;IPUZ&quot;
      - id: size
        type: u4
        if: index != 0xFF_FF
      - id: item1_class
        type: u4
        enum: puzzle_item_class
        if: index != 0xFF_FF
      - id: item2_class
        type: u4
        enum: puzzle_item_class
        if: index != 0xFF_FF
      - type: u2
        if: index != 0xFF_FF
      - id: strings
        type: prefixed_str
        repeat: expr
        repeat-expr: 5
        if: index != 0xFF_FF
      - id: item_1
        type: u2
        if: index != 0xFF_FF
    enums:
      puzzle_item_class:
        0: keycard
        1: tool
        2: part
        4: valuable
        0xFFFF_FFFF: none
  endf:
    seq: []
  tgen:
    doc: |
        The TGEN section is only present in non-english versions of the game. It's purpose or
        internal structure is unknown.
    seq:
      - id: data
        size: _parent.size
  characters:
    seq:
      - id: characters
        type: character
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character:
    seq:
      - id: index
        type: u2
      - id: marker
        contents: &quot;ICHA&quot;
        if: index != 0xFF_FF
      - id: size
        type: u4
        if: index != 0xFF_FF
      - id: name
        type: strz
        size: 16
        if: index != 0xFF_FF
      - id: type
        type: u2
        enum: character_type
        if: index != 0xFF_FF
      - id: movement_type
        type: u2
        enum: movement_type
        if: index != 0xFF_FF
      - id: frame_1
        type: char_frame
        if: index != 0xFF_FF
      - id: frame_2
        type: char_frame
        if: index != 0xFF_FF
      - id: frame_3
        type: char_frame
        if: index != 0xFF_FF
    enums:
      character_type:
        1: hero
        2: enemy
        4: weapon
      movement_type:
        0: none
        4: sit
        9: wander
        10: patrol
        12: animation
  char_frame:
    seq:
      - id: tiles
        type: u2
        repeat: expr
        repeat-expr: 0x8
  character_auxiliaries:
    seq:
      - id: auxiliaries
        type: character_auxiliary
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character_auxiliary:
    seq:
      - id: index
        type: u2
      - id: damage
        type: s2
        if: index != 0xFF_FF
  character_weapons:
    seq:
      - id: weapons
        type: character_weapon
        repeat: until
        repeat-until: _.index == 0xFF_FF
  character_weapon:
    seq:
      - id: index
        type: u2
      - id: reference
        doc: |
          If the character referenced by index is a monster, this is a
          reference to their weapon, otherwise this is the index of the
          weapon's sound
        type: u2
        if: index != 0xFF_FF
      - id: health
        type: u2
        if: index != 0xFF_FF
  action_names:
    seq:
      - id: names
        type: zone_action_name
        repeat: until
        repeat-until:  _.zone_id == 0xFF_FF
  zone_action_name:
    seq:
      - id: zone_id
        type: u2
      - id: action_names
        type: action_name
        repeat: until
        repeat-until: _.action_id == 0xFF_FF
        if: zone_id != 0xFF_FF
  action_name:
    seq:
      - id: action_id
        type: u2
      - id: name
        type: strz
        size: 0x10
        if: action_id != 0xFF_FF
  puzzle_names:
    seq:
      - id: num_puzzle_names
        type: u2
      - id: puzzle_names
        type: strz
        size: 0x10
        repeat: expr
        repeat-expr: num_puzzle_names
  zone_names:
    seq:
      - id: zone_names
        type: zone_name
        repeat: until
        repeat-until: _.zone_id == 0xFF_FF
  zone_name:
    seq:
      - id: zone_id
        type: u2
      - id: name
        type: strz
        size: 0x10
        if: zone_id != 0xFF_FF
  hotspots:
    seq:
      - id: zone_hotspots
        type: zone_hotspot
        repeat: until
        repeat-until: _.zone_id == 0xFF_FF
  zone_hotspot:
    seq:
      - id: zone_id
        type: u2
      - id: num_hotspots
        type: u2
        if: zone_id != 0xFF_FF
      - id: hotspots
        type: hotspot
        repeat: expr
        repeat-expr: num_hotspots
        if: zone_id != 0xFF_FF
  actions:
    seq:
      - id: zone_actions
        type: zone_action
        repeat: until
        repeat-until: _.zone_id == 0xFF_FF
  zone_action:
    seq:
      - id: zone_id
        type: u2
      - id: num_actions
        type: u2
        if: zone_id != 0xFF_FF
      - id: actions
        type: action
        repeat: expr
        repeat-expr: num_actions
        if: zone_id != 0xFF_FF
  zones_aux_1:
    seq:
      - id: zone_auxiliaries
        type: zone_auxiliary
        repeat: expr
        repeat-expr: _root.catalog[4].content.as&lt;zones&gt;.num_zones
  zones_aux_2:
    seq:
      - id: zone_auxiliaries
        type: zone_auxiliary_2
        repeat: expr
        repeat-expr: _root.catalog[4].content.as&lt;zones&gt;.num_zones
  zones_aux_3:
    seq:
      - id: zone_auxiliaries
        type: zone_auxiliary_3
        repeat: expr
        repeat-expr: _root.catalog[4].content.as&lt;zones&gt;.num_zones
  zones_aux_4:
    seq:
      - id: zone_auxiliaries
        type: zone_auxiliary_4
        repeat: expr
        repeat-expr: _root.catalog[4].content.as&lt;zones&gt;.num_zones
  # Utilities
  prefixed_str:
    seq:
      - id: len_content
        type: u2
      - id: content
        type: str
        size: len_content
  prefixed_strz:
    seq:
      - id: len_content
        type: u2
      - id: content
        type: strz
        size: len_content

</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/appendix/deskadv.md">Edit this file on GitHub.</a></footer><h1 id="yodasavksy"><a class="header" href="#yodasavksy">Yodasav.ksy</a></h1>
<p>This is a machine-readable definition of the save game format used by <em>Yoda Stories</em>. It can be used to generate a parser or inspect files online in the <a href="https://ide.kaitai.io">Kaitai Web IDE</a>.</p>
<pre><code class="language-yaml">meta:
  id: yodasav
  file-extension: wld
  application: &quot;Yoda Stories&quot;
  endian: le
  encoding: ASCII
seq:
  - id: magic
    contents: &quot;YODASAV44&quot;
  - id: seed
    type: u4
  - id: planet
    type: u4
  - id: on_dagobah
    type: u4
  - id: puzzles1
    type: id_array
  - id: puzzles2
    type: id_array
  - id: dagobah
    type: dagobah
  - id: world
    type: world
  - id: inventory_count
    type: u4
  - id: inventory
    type: u2
    repeat: expr
    repeat-expr: inventory_count
  - id: current_zone
    type: u2
  - id: world_x
    type: u4
  - id: world_y
    type: u4
  - id: current_weapon
    type: s2
  - id: current_ammo
    type: s2
    if: current_weapon != -1
  - id: force_ammo
    type: s2
  - id: blaster_ammo
    type: s2
  - id: blaster_rifle_ammo
    type: s2
  - id: zone_x
    type: u4
  - id: zone_y
    type: u4
  - id: damage_taken
    type: u4
  - id: lives_left
    type: u4
  - id: difficulty
    type: u4
  - id: time_elapsed
    type: u4
  - id: world_size
    type: u2
  - id: unknown_array_count
    type: u2
  - id: unknown_array_sum
    type: u2
  - id: end_puzzle
    type: u4
  - id: end_puzzle_again
    type: u4

types:
  id_array:
    seq:
      - id: count
        type: u2
      - id: content
        type: u2
        repeat: expr
        repeat-expr: count
  world_thing:
    seq:
      - id: unknown1
        type: u4
      - id: unknown2
        type: u4
      - id: unknown3
        type: u4
      - id: unknown4
        type: u4
      - id: unknown5
        type: u4
      - id: zone_id
        type: u2
      - id: unknown6
        type: u2
      - id: required_item
        type: u2
      - id: provided_item
        type: u2
      - id: unknown7
        type: u2
      - id: additionally_required_item
        type: u2
      - id: unknown8
        type: u2
      - id: puzzle_npc
        type: u2
      - id: unknown9
        type: u4
      - id: unknown10
        type: u2
      - id: rooms
        type: room
  dagobah:
    seq:
      - id: world_things
        type: world_thing
        repeat: expr
        repeat-expr: 2 * 2
      - id: zones
        type: zone
        repeat: until
        repeat-until: _.unknown1 == -1 or _.unknown2 == -1
  world:
    seq:
      - id: world_things
        type: world_thing
        repeat: expr
        repeat-expr: 10 * 10
      - id: zones
        type: zone
        repeat: until
        repeat-until: _.unknown1 == -1 or _.unknown2 == -1
  rooms:
    seq:
      - id: rooms
        type: room
        repeat: until
        repeat-until: _.unknown1 == -1
  room:
    seq:
      - id: unknown1
        type: s4
      - id: unknown2
        type: s4
      - id: zone_id
        type: s2
        if: unknown1 == -1
      - id: unknown3
        type: u4
        if: unknown1 == -1
  zone:
    seq:
      - id: unknown1
        type: s4
      - id: unknown2
        type: s4
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/appendix/yodasav.md">Edit this file on GitHub.</a></footer><h1 id="list-of-game-files"><a class="header" href="#list-of-game-files">List of game files</a></h1>
<p>The following is a list of checksum of files related to <em>Yoda Stories</em> or <em>Indiana Jones and His Desktop Adventures</em>. If you have access to other versions of the games feel free to add them below.</p>
<table><thead><tr><th>sha1</th><th>Common Name</th><th>Description</th></tr></thead><tbody>
<tr><td>a8e18864184d49feaf0b74b93f60855f40ffe9bf</td><td>yopatch6.exe</td><td>Installer for Yoda Stories update</td></tr>
<tr><td>437e9ebdfdfe7511c94afb6eebaf2c367cbec33a</td><td>Yodesk.dta</td><td>Update game file provided by yopatch6</td></tr>
<tr><td>c862c5cc94b5d57b4e296f5f4e2b4508fcb51d6a</td><td>indy.pal</td><td>Color palette used by Indy</td></tr>
<tr><td>6472ed051d2046e01f4ba44b19a443615c75979e</td><td>yoda.pal</td><td>Yoda Stories color palette used by Yoda Stories (256 colors at 4byte per color)</td></tr>
<tr><td>cf328158f596278b9b30aa0cd9dfe91cac062d92</td><td>disk1.img</td><td>Indy, Spanish, 3.5&quot; floppy, see <a href="https://www.goodolddays.net/diskimages/id%2C2819/">https://www.goodolddays.net/diskimages/id%2C2819/</a></td></tr>
<tr><td>0b43a75a09180e68629833d305c50ace6493bf93</td><td>disk1.img</td><td>Indy, French, 3.5&quot; floppy, see <a href="https://www.goodolddays.net/diskimages/id%2C2819/">https://www.goodolddays.net/diskimages/id%2C2819/</a></td></tr>
<tr><td>f12f8a2ab25a89e26e25457dd7332cdf4135ba7a</td><td>disk1.img</td><td>Indy, English, 3.5&quot; floppy, see <a href="https://www.goodolddays.net/diskimages/id%2C2819/">https://www.goodolddays.net/diskimages/id%2C2819/</a></td></tr>
<tr><td>00d5755679a750f574bd9b0c2f8d970e5333e0d1</td><td>YODA_GERMAN.iso</td><td>ISO 9660 CD-ROM filesystem data 'YODA_GERMAN'</td></tr>
<tr><td>0d8f15b7920140c82619cf0badc09a9e59924c1e</td><td>YODA_SPANISH.iso</td><td>ISO 9660 CD-ROM filesystem data 'YODASPANISH</td></tr>
<tr><td>a0efe4819c9c7325437842f2d1b7ec5082cbc0c6</td><td>Indydesk.exe</td><td>Indy patch file posted 10/96</td></tr>
<tr><td>b816ee3a9fccd68a70801ec4ff5fe9dbd8c2bf64</td><td>YodaDemo.exe</td><td>Self-extracting archive of Yoda Stories Demo</td></tr>
<tr><td>24931dc214824d525a084ad0073b3211235c2f60</td><td>Indyprev.zip</td><td>Indiana Jones and His Desktop Adventures Demo</td></tr>
</tbody></table>
<h1 id="yoda-stories"><a class="header" href="#yoda-stories">Yoda Stories</a></h1>
<h3 id="yoda-stories-english"><a class="header" href="#yoda-stories-english">Yoda Stories (English)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>6256e9cc90f227163ef54f69e57733a45df35982</td><td>./BITMAPS/PYODAY.BMP</td></tr>
<tr><td>b64a263acbd24612e66e46ce2a2e151c3812cb23</td><td>./BITMAPS/SCREEN.BMP</td></tr>
<tr><td>5cb7b9ec4fdadf8d88fda6d266de584e083ea80a</td><td>./BITMAPS/IYODAY.BMP</td></tr>
<tr><td>dc399eee158bb89813d76aa16ca65473f70588fb</td><td>./BITMAPS/LMMY.BMP</td></tr>
<tr><td>c6b1c2341507160d0bf055bdaa7243a33636390e</td><td>./BITMAPS/LMMB.BMP</td></tr>
<tr><td>1394fec8991a0bf2ba01c793fd7ff6635f61c217</td><td>./BITMAPS/IYODAB.BMP</td></tr>
<tr><td>33203c1c173d4da372bf3424b9b2e08e9c0bf6a1</td><td>./BITMAPS/PYODAB.BMP</td></tr>
<tr><td>b6f27160b8b560891af2f617fc761262077a1e7d</td><td>./REGISTER ON-LINE.URL</td></tr>
<tr><td>50ef08a3e02edc2954e7494911261d85d52c0506</td><td>./INSTALL/<em>INST32I.EX</em></td></tr>
<tr><td>d3a39cc6532dec55b843af8efdfce0c6f7176e22</td><td>./INSTALL/SETUP.EXE</td></tr>
<tr><td>d894923d28ab6154a2b795fcc0f73c1e42d0262c</td><td>./INSTALL/SETUP.INS</td></tr>
<tr><td>77f9873ebcd25400d4825101c255b5a1ce7c1106</td><td>./INSTALL/SETUP.INI</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.INI</td></tr>
<tr><td>e7ec0b86b1efbed2515942dcc3332159eb7d0bf5</td><td>./INSTALL/WEBSITE.EXE</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.GID</td></tr>
<tr><td>140bee85e817a79d5ccc1d1e8e1d66199e41ffbe</td><td>./INSTALL/_SETUP.DLL</td></tr>
<tr><td>b19e2e4f93b336042a1eddae12ea2e653834a7a3</td><td>./INSTALL/_SETUP.LIB</td></tr>
<tr><td>fe96bd82d167f50cb8cd9c9a32d72b77f45f8002</td><td>./INSTALL/_ISDEL.EXE</td></tr>
<tr><td>cf63696315314488557fbecac937908e5e8c7288</td><td>./INSTALL/REGISTER.EXE</td></tr>
<tr><td>a955c3839ec956d9eb04d3e78cac4bc1c028ec1f</td><td>./YODESK.EXE</td></tr>
<tr><td>0372868bf5ac8040a9d3bba7a0bed9241e2308d2</td><td>./VISIT WWW.LUCASARTS.COM.URL</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./SFX/HURT.WAV</td></tr>
<tr><td>52c2476718520cc52b47e8e1966f803e888bdf0a</td><td>./SFX/GRENADE.WAV</td></tr>
<tr><td>85314d0afd63b32c5cd9810f7a43a05e293d2247</td><td>./SFX/CHESTLRG.WAV</td></tr>
<tr><td>d5e3f378b894a8ee179e2a2d7e17eb86d9c267bd</td><td>./SFX/BUZZMED.WAV</td></tr>
<tr><td>31d60649b6797626e38421b32a27eac6a9c84df6</td><td>./SFX/MYSTERY.WAV</td></tr>
<tr><td>8a397e81ea87985ebe0244414ab21ad47d7228f9</td><td>./SFX/WALKER.WAV</td></tr>
<tr><td>d5b4c7eec94b3c88f33f792db74b539829ef21e3</td><td>./SFX/CANTINA.WAV</td></tr>
<tr><td>200886036f2af0e382e9b3986542e35662f99929</td><td>./SFX/LOCATOR.WAV</td></tr>
<tr><td>b0ada8bbd7c352a2b489faa9fdb640abc8cd220a</td><td>./SFX/PISTOL.WAV</td></tr>
<tr><td>4e64a3a79a879c91c35bf614e5b81965ecf434eb</td><td>./SFX/BUZZLOW.WAV</td></tr>
<tr><td>7c45cbecd946fee69b515bb01c436bd82acc0d14</td><td>./SFX/EMPTHEME.WAV</td></tr>
<tr><td>e8e40ba4bd82630434b826a3265edc8549ae34b3</td><td>./SFX/WOOKIE.WAV</td></tr>
<tr><td>7791b4cad2437e10169c1f60d47a0fae953f167a</td><td>./SFX/ARMFORCE.WAV</td></tr>
<tr><td>40e6664e59ed24e7107d5785e6bf72375546e576</td><td>./SFX/BLASTER.WAV</td></tr>
<tr><td>1d301d467868f8727e7327a81e6dc0a4ac4d7a9c</td><td>./SFX/DOORELEC.WAV</td></tr>
<tr><td>72d23409767760589c08e52495ab4136e5af1ee6</td><td>./SFX/SABEROUT.WAV</td></tr>
<tr><td>ef059f05dcb04d32f0af1fbd7163b962e6e4fd0d</td><td>./SFX/RIFLE.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-7.WAV</td></tr>
<tr><td>5c8c54eb51f19cdb0e3745e30cf5d9dccdb25151</td><td>./SFX/SWITCH-6.WAV</td></tr>
<tr><td>caa7ad2b6e00e02ebb8f136c33d372a0bb7d8b1c</td><td>./SFX/VADER.WAV</td></tr>
<tr><td>071bd82aff663e50aa78e8d3fe2001f6aab1f7d8</td><td>./SFX/EEP.WAV</td></tr>
<tr><td>978cebdf7023a24acd2b0e0795c034da1c9e47b3</td><td>./SFX/BANGHUGE.WAV</td></tr>
<tr><td>717b92788485092181957614fd3b156f4549b51c</td><td>./SFX/SWITCH-4.WAV</td></tr>
<tr><td>3191a59954f98347c55be705c27064d1c96ce825</td><td>./SFX/SWITCH-5.WAV</td></tr>
<tr><td>9bd9dbe0bac4fe541c620bac501cfbaf179a29ce</td><td>./SFX/TRUCKIN.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-1.WAV</td></tr>
<tr><td>e0ab059defcc74c0f44c246750f442203930471a</td><td>./SFX/SPEEDER.WAV</td></tr>
<tr><td>8e9962d0069c0b74c07ce61005bf9dc3003b9f9c</td><td>./SFX/BANGLRG.WAV</td></tr>
<tr><td>55ebccfc7ea4327ffda2607e081c4d99fcccdc5d</td><td>./SFX/HUGEDOOR.WAV</td></tr>
<tr><td>7af931273d6374af73538b1580ff04f287de6ded</td><td>./SFX/SCHWING.WAV</td></tr>
<tr><td>1b4293242d61461914623ffad36867537ab199d5</td><td>./SFX/TRANSPRT.WAV</td></tr>
<tr><td>7995af7e4cd2b97e5419e1ea93dfcb5eb7c356c8</td><td>./SFX/TRYAGAIN.WAV</td></tr>
<tr><td>5f384cd6565305544f06f650a64b01f4f15c4bbb</td><td>./SFX/SWITCH-2.WAV</td></tr>
<tr><td>690c39b1ea1cdf86e28cf1335cb620c3ba92727a</td><td>./SFX/YOUWIN.WAV</td></tr>
<tr><td>97269a0f50b7bf37530d4c0b7ec0ce9089c8718d</td><td>./SFX/FORCE.WAV</td></tr>
<tr><td>5687e94a1faac7dbe75881e9dd6c1c8fe031984d</td><td>./SFX/ARMED.WAV</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SFX/SHPOONK.WAV</td></tr>
<tr><td>dd9ce24759ac8ddf5e09f6b848c5dd71cd9a1b6c</td><td>./SFX/SWITCH-3.WAV</td></tr>
<tr><td>3d0f7ad1aa43aa7d2e8daf3c509d307185fd252e</td><td>./SFX/R2D2-2.WAV</td></tr>
<tr><td>d55ff1a47a2a1a08c26990a713e2310546461703</td><td>./SFX/BONG.WAV</td></tr>
<tr><td>d7e352947ee21ef48b1f020c42c999820caa176d</td><td>./SFX/R2D2-1.WAV</td></tr>
<tr><td>bdc3addce338d60d2b4e4fe3452508fcfdd0f7a4</td><td>./SFX/SABER.WAV</td></tr>
<tr><td>3fb938e254ba8b9426b38857d02de48c998db9a2</td><td>./SFX/XWINGIN.WAV</td></tr>
<tr><td>9e2f78a639a27685f9184eef514af521d3f9223b</td><td>./SFX/BLEEPSML.WAV</td></tr>
<tr><td>9920d7446a2f259f0a62dffd0e61e30fb7eb4dfd</td><td>./SFX/BUZZHIGH.WAV</td></tr>
<tr><td>5b5e4581d77527afc79163fdcc31f0b4ded65005</td><td>./SFX/CHESTSML.WAV</td></tr>
<tr><td>b710cd2f427f742ee1202adf04d9caf242ea6026</td><td>./SFX/SWITCH-8.WAV</td></tr>
<tr><td>3f2d782c4788ae1bfeed65103863c274d9978649</td><td>./SFX/TIEBY.WAV</td></tr>
<tr><td>833757378d9e8ad02c0a441439349402c627328d</td><td>./SFX/IMPBLST.WAV</td></tr>
<tr><td>419cc1734f33953219b94d9316f2780a1655aa7d</td><td>./SFX/BLIP.WAV</td></tr>
<tr><td>b55808ae16478322f62b3a510b5618addca12cfc</td><td>./SFX/SABERSWG.WAV</td></tr>
<tr><td>c7bde605481cc7450397fc966d2edcf949eddaf2</td><td>./SFX/XWINGOUT.WAV</td></tr>
<tr><td>3f8f63d62dababaed9c9fd0da3c5687fc8d6d91c</td><td>./SFX/TRUCKOUT.WAV</td></tr>
<tr><td>79a9a56abd0525f2e2980009a8ae313cd91f382c</td><td>./SFX/FLOURISH.WAV</td></tr>
<tr><td>2722f7599fe8ac7e4d3876276aea3c71fdd53327</td><td>./SFX/CHIRP.WAV</td></tr>
<tr><td>75b1ebef0a2b29f14d787fe6ca8af3d2fc15af5b</td><td>./SFX/OPENING.WAV</td></tr>
<tr><td>37e222b09f2b1cf86dfbbac5cd06ce1d7bb79c11</td><td>./SFX/SPLASH.WAV</td></tr>
<tr><td>2d4d0af951307083b7cce9840e7ee4d3013d2590</td><td>./SFX/RIFLBLST.WAV</td></tr>
<tr><td>ccbe0e1d23f353e2ff5f8a50a41cbf3e1b62285a</td><td>./SFX/MAPCLS.WAV</td></tr>
<tr><td>65f50467bd6331d13498d547c9d08dc00b2ebcca</td><td>./SFX/XWINGBY.WAV</td></tr>
<tr><td>7640aefae2ec587bfeeb3456a66fa57e6d3b6d06</td><td>./SFX/CRASH.WAV</td></tr>
<tr><td>ebddf621f032f619d14b3b4eae2296fe58413efa</td><td>./SFX/BANGMED.WAV</td></tr>
<tr><td>e8febb3a41d4eef2587dad9cd5e2719d7392635d</td><td>./SFX/PUSH.WAV</td></tr>
<tr><td>cd5db260b3b0879e48064c65eee061942f955ced</td><td>./SFX/NOGO.WAV</td></tr>
<tr><td>5e7bc1330365191feecd53d8595ee1da96b74b85</td><td>./SFX/MOVEROCK.WAV</td></tr>
<tr><td>b1e5be033b13b24806ea961f7998fdffe2f81803</td><td>./SFX/DOORPNUM.WAV</td></tr>
<tr><td>184b008cd9a7d78b62959ad66f16a03d27688208</td><td>./YODESK.CNT</td></tr>
<tr><td>13e914ad378bcef9a7b030200e0dc7a66c078473</td><td>./WAVEMIX.INI</td></tr>
<tr><td>66c502f8373a149bd310f364f4d4d29cf61dad06</td><td>./YODESK.GID</td></tr>
<tr><td>b6d1ac4d9f165403898531341d13885c770d4177</td><td>./MSVCRT40.DLL</td></tr>
<tr><td>9fa85e8177d2df436564c97775845b9ab27b9b94</td><td>./YODESK.HLP</td></tr>
<tr><td>21265b5d3d600ecd9869a88c70096b3e0ea3c6b2</td><td>./WAVMIX32.DLL</td></tr>
<tr><td>437e9ebdfdfe7511c94afb6eebaf2c367cbec33a</td><td>./YODESK.DTA</td></tr>
</tbody></table>
<h3 id="yoda-stories-spanish"><a class="header" href="#yoda-stories-spanish">Yoda Stories (Spanish)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>77f5799c10da7afde51e6166a2c27d66f8b609f9</td><td>./BITMAPS/PYODAY.BMP</td></tr>
<tr><td>2f8327c3b2000f44cd17ef7fd2ba59815f1d1262</td><td>./BITMAPS/SCREEN.BMP</td></tr>
<tr><td>ee1c8b63e686a96c22c91913e372ae4df9e6e6b2</td><td>./BITMAPS/IYODAY.BMP</td></tr>
<tr><td>4e588386f0d41df3fb1bf3a9a0ab49a4cd6b516a</td><td>./BITMAPS/LMMY.BMP</td></tr>
<tr><td>f4ab98bbbe7254c7bcaff7413c12897a0a1669d6</td><td>./BITMAPS/LMMB.BMP</td></tr>
<tr><td>fe59382fbc7cb948c23ddfc78ad1ec4985c8e587</td><td>./BITMAPS/IYODAB.BMP</td></tr>
<tr><td>4201ef8de520493f311d1b7f06a3ac0aaa80a710</td><td>./BITMAPS/PYODAB.BMP</td></tr>
<tr><td>50ef08a3e02edc2954e7494911261d85d52c0506</td><td>./INSTALL/<em>INST32I.EX</em></td></tr>
<tr><td>d3a39cc6532dec55b843af8efdfce0c6f7176e22</td><td>./INSTALL/SETUP.EXE</td></tr>
<tr><td>a148e180e70939a721449551297ee4cc47b0620b</td><td>./INSTALL/SETUP.INS</td></tr>
<tr><td>77f9873ebcd25400d4825101c255b5a1ce7c1106</td><td>./INSTALL/SETUP.INI</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.INI</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.GID</td></tr>
<tr><td>0e45ae0b619b6d2924eed33b4dc5480e12a7c6fe</td><td>./INSTALL/_SETUP.DLL</td></tr>
<tr><td>03f70a3e1bd3bdd5f908ac3aad464fd87fb33eb2</td><td>./INSTALL/_SETUP.LIB</td></tr>
<tr><td>fe96bd82d167f50cb8cd9c9a32d72b77f45f8002</td><td>./INSTALL/_ISDEL.EXE</td></tr>
<tr><td>6c0c0934b026ccd2c40916241fbd991c95d6487f</td><td>./YODESK.EXE</td></tr>
<tr><td>0372868bf5ac8040a9d3bba7a0bed9241e2308d2</td><td>./VISITA WWW.LUCASARTS.COM.URL</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./SFX/HURT.WAV</td></tr>
<tr><td>52c2476718520cc52b47e8e1966f803e888bdf0a</td><td>./SFX/GRENADE.WAV</td></tr>
<tr><td>85314d0afd63b32c5cd9810f7a43a05e293d2247</td><td>./SFX/CHESTLRG.WAV</td></tr>
<tr><td>d5e3f378b894a8ee179e2a2d7e17eb86d9c267bd</td><td>./SFX/BUZZMED.WAV</td></tr>
<tr><td>31d60649b6797626e38421b32a27eac6a9c84df6</td><td>./SFX/MYSTERY.WAV</td></tr>
<tr><td>8a397e81ea87985ebe0244414ab21ad47d7228f9</td><td>./SFX/WALKER.WAV</td></tr>
<tr><td>d5b4c7eec94b3c88f33f792db74b539829ef21e3</td><td>./SFX/CANTINA.WAV</td></tr>
<tr><td>200886036f2af0e382e9b3986542e35662f99929</td><td>./SFX/LOCATOR.WAV</td></tr>
<tr><td>b0ada8bbd7c352a2b489faa9fdb640abc8cd220a</td><td>./SFX/PISTOL.WAV</td></tr>
<tr><td>4e64a3a79a879c91c35bf614e5b81965ecf434eb</td><td>./SFX/BUZZLOW.WAV</td></tr>
<tr><td>7c45cbecd946fee69b515bb01c436bd82acc0d14</td><td>./SFX/EMPTHEME.WAV</td></tr>
<tr><td>e8e40ba4bd82630434b826a3265edc8549ae34b3</td><td>./SFX/WOOKIE.WAV</td></tr>
<tr><td>7791b4cad2437e10169c1f60d47a0fae953f167a</td><td>./SFX/ARMFORCE.WAV</td></tr>
<tr><td>40e6664e59ed24e7107d5785e6bf72375546e576</td><td>./SFX/BLASTER.WAV</td></tr>
<tr><td>1d301d467868f8727e7327a81e6dc0a4ac4d7a9c</td><td>./SFX/DOORELEC.WAV</td></tr>
<tr><td>72d23409767760589c08e52495ab4136e5af1ee6</td><td>./SFX/SABEROUT.WAV</td></tr>
<tr><td>ef059f05dcb04d32f0af1fbd7163b962e6e4fd0d</td><td>./SFX/RIFLE.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-7.WAV</td></tr>
<tr><td>5c8c54eb51f19cdb0e3745e30cf5d9dccdb25151</td><td>./SFX/SWITCH-6.WAV</td></tr>
<tr><td>caa7ad2b6e00e02ebb8f136c33d372a0bb7d8b1c</td><td>./SFX/VADER.WAV</td></tr>
<tr><td>071bd82aff663e50aa78e8d3fe2001f6aab1f7d8</td><td>./SFX/EEP.WAV</td></tr>
<tr><td>978cebdf7023a24acd2b0e0795c034da1c9e47b3</td><td>./SFX/BANGHUGE.WAV</td></tr>
<tr><td>717b92788485092181957614fd3b156f4549b51c</td><td>./SFX/SWITCH-4.WAV</td></tr>
<tr><td>3191a59954f98347c55be705c27064d1c96ce825</td><td>./SFX/SWITCH-5.WAV</td></tr>
<tr><td>9bd9dbe0bac4fe541c620bac501cfbaf179a29ce</td><td>./SFX/TRUCKIN.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-1.WAV</td></tr>
<tr><td>e0ab059defcc74c0f44c246750f442203930471a</td><td>./SFX/SPEEDER.WAV</td></tr>
<tr><td>8e9962d0069c0b74c07ce61005bf9dc3003b9f9c</td><td>./SFX/BANGLRG.WAV</td></tr>
<tr><td>55ebccfc7ea4327ffda2607e081c4d99fcccdc5d</td><td>./SFX/HUGEDOOR.WAV</td></tr>
<tr><td>7af931273d6374af73538b1580ff04f287de6ded</td><td>./SFX/SCHWING.WAV</td></tr>
<tr><td>1b4293242d61461914623ffad36867537ab199d5</td><td>./SFX/TRANSPRT.WAV</td></tr>
<tr><td>7995af7e4cd2b97e5419e1ea93dfcb5eb7c356c8</td><td>./SFX/TRYAGAIN.WAV</td></tr>
<tr><td>5f384cd6565305544f06f650a64b01f4f15c4bbb</td><td>./SFX/SWITCH-2.WAV</td></tr>
<tr><td>690c39b1ea1cdf86e28cf1335cb620c3ba92727a</td><td>./SFX/YOUWIN.WAV</td></tr>
<tr><td>97269a0f50b7bf37530d4c0b7ec0ce9089c8718d</td><td>./SFX/FORCE.WAV</td></tr>
<tr><td>5687e94a1faac7dbe75881e9dd6c1c8fe031984d</td><td>./SFX/ARMED.WAV</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SFX/SHPOONK.WAV</td></tr>
<tr><td>dd9ce24759ac8ddf5e09f6b848c5dd71cd9a1b6c</td><td>./SFX/SWITCH-3.WAV</td></tr>
<tr><td>3d0f7ad1aa43aa7d2e8daf3c509d307185fd252e</td><td>./SFX/R2D2-2.WAV</td></tr>
<tr><td>d55ff1a47a2a1a08c26990a713e2310546461703</td><td>./SFX/BONG.WAV</td></tr>
<tr><td>d7e352947ee21ef48b1f020c42c999820caa176d</td><td>./SFX/R2D2-1.WAV</td></tr>
<tr><td>bdc3addce338d60d2b4e4fe3452508fcfdd0f7a4</td><td>./SFX/SABER.WAV</td></tr>
<tr><td>3fb938e254ba8b9426b38857d02de48c998db9a2</td><td>./SFX/XWINGIN.WAV</td></tr>
<tr><td>9e2f78a639a27685f9184eef514af521d3f9223b</td><td>./SFX/BLEEPSML.WAV</td></tr>
<tr><td>9920d7446a2f259f0a62dffd0e61e30fb7eb4dfd</td><td>./SFX/BUZZHIGH.WAV</td></tr>
<tr><td>5b5e4581d77527afc79163fdcc31f0b4ded65005</td><td>./SFX/CHESTSML.WAV</td></tr>
<tr><td>b710cd2f427f742ee1202adf04d9caf242ea6026</td><td>./SFX/SWITCH-8.WAV</td></tr>
<tr><td>3f2d782c4788ae1bfeed65103863c274d9978649</td><td>./SFX/TIEBY.WAV</td></tr>
<tr><td>833757378d9e8ad02c0a441439349402c627328d</td><td>./SFX/IMPBLST.WAV</td></tr>
<tr><td>419cc1734f33953219b94d9316f2780a1655aa7d</td><td>./SFX/BLIP.WAV</td></tr>
<tr><td>b55808ae16478322f62b3a510b5618addca12cfc</td><td>./SFX/SABERSWG.WAV</td></tr>
<tr><td>c7bde605481cc7450397fc966d2edcf949eddaf2</td><td>./SFX/XWINGOUT.WAV</td></tr>
<tr><td>3f8f63d62dababaed9c9fd0da3c5687fc8d6d91c</td><td>./SFX/TRUCKOUT.WAV</td></tr>
<tr><td>79a9a56abd0525f2e2980009a8ae313cd91f382c</td><td>./SFX/FLOURISH.WAV</td></tr>
<tr><td>2722f7599fe8ac7e4d3876276aea3c71fdd53327</td><td>./SFX/CHIRP.WAV</td></tr>
<tr><td>75b1ebef0a2b29f14d787fe6ca8af3d2fc15af5b</td><td>./SFX/OPENING.WAV</td></tr>
<tr><td>37e222b09f2b1cf86dfbbac5cd06ce1d7bb79c11</td><td>./SFX/SPLASH.WAV</td></tr>
<tr><td>2d4d0af951307083b7cce9840e7ee4d3013d2590</td><td>./SFX/RIFLBLST.WAV</td></tr>
<tr><td>ccbe0e1d23f353e2ff5f8a50a41cbf3e1b62285a</td><td>./SFX/MAPCLS.WAV</td></tr>
<tr><td>65f50467bd6331d13498d547c9d08dc00b2ebcca</td><td>./SFX/XWINGBY.WAV</td></tr>
<tr><td>7640aefae2ec587bfeeb3456a66fa57e6d3b6d06</td><td>./SFX/CRASH.WAV</td></tr>
<tr><td>ebddf621f032f619d14b3b4eae2296fe58413efa</td><td>./SFX/BANGMED.WAV</td></tr>
<tr><td>e8febb3a41d4eef2587dad9cd5e2719d7392635d</td><td>./SFX/PUSH.WAV</td></tr>
<tr><td>cd5db260b3b0879e48064c65eee061942f955ced</td><td>./SFX/NOGO.WAV</td></tr>
<tr><td>5e7bc1330365191feecd53d8595ee1da96b74b85</td><td>./SFX/MOVEROCK.WAV</td></tr>
<tr><td>b1e5be033b13b24806ea961f7998fdffe2f81803</td><td>./SFX/DOORPNUM.WAV</td></tr>
<tr><td>8bbefddff0da779d9843300544080d02a8364032</td><td>./YODESK.CNT</td></tr>
<tr><td>13e914ad378bcef9a7b030200e0dc7a66c078473</td><td>./WAVEMIX.INI</td></tr>
<tr><td>b6d1ac4d9f165403898531341d13885c770d4177</td><td>./MSVCRT40.DLL</td></tr>
<tr><td>4d4e45a459cfbe560be779ab2195185f8c2165b7</td><td>./YODESK.HLP</td></tr>
<tr><td>21265b5d3d600ecd9869a88c70096b3e0ea3c6b2</td><td>./WAVMIX32.DLL</td></tr>
<tr><td>2650cf79560305cee94f677bc0f2acd692a853f6</td><td>./YODESK.DTA</td></tr>
</tbody></table>
<h3 id="yoda-stories-german"><a class="header" href="#yoda-stories-german">Yoda Stories (German)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>37ebcdff84f564ba57c2dbdab24f68e4b4aca162</td><td>./BITMAPS/PYODAY.BMP</td></tr>
<tr><td>9274750d5c92c3a6e38f594a215305a121130db9</td><td>./BITMAPS/SCREEN.BMP</td></tr>
<tr><td>59b9f394688eac325ca763102fda4a62abccc4dc</td><td>./BITMAPS/IYODAY.BMP</td></tr>
<tr><td>139ac3cafdd99f60364fc1305dca90d1b4956f9f</td><td>./BITMAPS/LMMY.BMP</td></tr>
<tr><td>f39956775f34f5bf0999d84597b57e2858ce1598</td><td>./BITMAPS/LMMB.BMP</td></tr>
<tr><td>a4decad5295523f21bf8a4e4212e1ef7441bc80b</td><td>./BITMAPS/IYODAB.BMP</td></tr>
<tr><td>d0960ad5a3822659b11426a806fdcfdc15fd985a</td><td>./BITMAPS/PYODAB.BMP</td></tr>
<tr><td>50ef08a3e02edc2954e7494911261d85d52c0506</td><td>./INSTALL/<em>INST32I.EX</em></td></tr>
<tr><td>d3a39cc6532dec55b843af8efdfce0c6f7176e22</td><td>./INSTALL/SETUP.EXE</td></tr>
<tr><td>597dd13d90517ca5056c0389072110db6874dd46</td><td>./INSTALL/SETUP.INS</td></tr>
<tr><td>77f9873ebcd25400d4825101c255b5a1ce7c1106</td><td>./INSTALL/SETUP.INI</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.INI</td></tr>
<tr><td>da39a3ee5e6b4b0d3255bfef95601890afd80709</td><td>./INSTALL/YODESK.GID</td></tr>
<tr><td>ed96ae8387da5ffcb3b92ed091ae2ea42eb0d74b</td><td>./INSTALL/_SETUP.DLL</td></tr>
<tr><td>daf49fac20ee018c1799bdf711ca3a576888ed64</td><td>./INSTALL/_SETUP.LIB</td></tr>
<tr><td>fe96bd82d167f50cb8cd9c9a32d72b77f45f8002</td><td>./INSTALL/_ISDEL.EXE</td></tr>
<tr><td>835ebc3c25b963d025658845a72126ae362653bb</td><td>./YODESK.EXE</td></tr>
<tr><td>0372868bf5ac8040a9d3bba7a0bed9241e2308d2</td><td>./VISIT WWW.LUCASARTS.COM.URL</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./SFX/HURT.WAV</td></tr>
<tr><td>52c2476718520cc52b47e8e1966f803e888bdf0a</td><td>./SFX/GRENADE.WAV</td></tr>
<tr><td>85314d0afd63b32c5cd9810f7a43a05e293d2247</td><td>./SFX/CHESTLRG.WAV</td></tr>
<tr><td>d5e3f378b894a8ee179e2a2d7e17eb86d9c267bd</td><td>./SFX/BUZZMED.WAV</td></tr>
<tr><td>31d60649b6797626e38421b32a27eac6a9c84df6</td><td>./SFX/MYSTERY.WAV</td></tr>
<tr><td>8a397e81ea87985ebe0244414ab21ad47d7228f9</td><td>./SFX/WALKER.WAV</td></tr>
<tr><td>d5b4c7eec94b3c88f33f792db74b539829ef21e3</td><td>./SFX/CANTINA.WAV</td></tr>
<tr><td>200886036f2af0e382e9b3986542e35662f99929</td><td>./SFX/LOCATOR.WAV</td></tr>
<tr><td>b0ada8bbd7c352a2b489faa9fdb640abc8cd220a</td><td>./SFX/PISTOL.WAV</td></tr>
<tr><td>4e64a3a79a879c91c35bf614e5b81965ecf434eb</td><td>./SFX/BUZZLOW.WAV</td></tr>
<tr><td>7c45cbecd946fee69b515bb01c436bd82acc0d14</td><td>./SFX/EMPTHEME.WAV</td></tr>
<tr><td>e8e40ba4bd82630434b826a3265edc8549ae34b3</td><td>./SFX/WOOKIE.WAV</td></tr>
<tr><td>7791b4cad2437e10169c1f60d47a0fae953f167a</td><td>./SFX/ARMFORCE.WAV</td></tr>
<tr><td>40e6664e59ed24e7107d5785e6bf72375546e576</td><td>./SFX/BLASTER.WAV</td></tr>
<tr><td>1d301d467868f8727e7327a81e6dc0a4ac4d7a9c</td><td>./SFX/DOORELEC.WAV</td></tr>
<tr><td>72d23409767760589c08e52495ab4136e5af1ee6</td><td>./SFX/SABEROUT.WAV</td></tr>
<tr><td>ef059f05dcb04d32f0af1fbd7163b962e6e4fd0d</td><td>./SFX/RIFLE.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-7.WAV</td></tr>
<tr><td>5c8c54eb51f19cdb0e3745e30cf5d9dccdb25151</td><td>./SFX/SWITCH-6.WAV</td></tr>
<tr><td>caa7ad2b6e00e02ebb8f136c33d372a0bb7d8b1c</td><td>./SFX/VADER.WAV</td></tr>
<tr><td>071bd82aff663e50aa78e8d3fe2001f6aab1f7d8</td><td>./SFX/EEP.WAV</td></tr>
<tr><td>978cebdf7023a24acd2b0e0795c034da1c9e47b3</td><td>./SFX/BANGHUGE.WAV</td></tr>
<tr><td>717b92788485092181957614fd3b156f4549b51c</td><td>./SFX/SWITCH-4.WAV</td></tr>
<tr><td>3191a59954f98347c55be705c27064d1c96ce825</td><td>./SFX/SWITCH-5.WAV</td></tr>
<tr><td>9bd9dbe0bac4fe541c620bac501cfbaf179a29ce</td><td>./SFX/TRUCKIN.WAV</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./SFX/SWITCH-1.WAV</td></tr>
<tr><td>e0ab059defcc74c0f44c246750f442203930471a</td><td>./SFX/SPEEDER.WAV</td></tr>
<tr><td>8e9962d0069c0b74c07ce61005bf9dc3003b9f9c</td><td>./SFX/BANGLRG.WAV</td></tr>
<tr><td>55ebccfc7ea4327ffda2607e081c4d99fcccdc5d</td><td>./SFX/HUGEDOOR.WAV</td></tr>
<tr><td>7af931273d6374af73538b1580ff04f287de6ded</td><td>./SFX/SCHWING.WAV</td></tr>
<tr><td>1b4293242d61461914623ffad36867537ab199d5</td><td>./SFX/TRANSPRT.WAV</td></tr>
<tr><td>7995af7e4cd2b97e5419e1ea93dfcb5eb7c356c8</td><td>./SFX/TRYAGAIN.WAV</td></tr>
<tr><td>5f384cd6565305544f06f650a64b01f4f15c4bbb</td><td>./SFX/SWITCH-2.WAV</td></tr>
<tr><td>690c39b1ea1cdf86e28cf1335cb620c3ba92727a</td><td>./SFX/YOUWIN.WAV</td></tr>
<tr><td>97269a0f50b7bf37530d4c0b7ec0ce9089c8718d</td><td>./SFX/FORCE.WAV</td></tr>
<tr><td>5687e94a1faac7dbe75881e9dd6c1c8fe031984d</td><td>./SFX/ARMED.WAV</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SFX/SHPOONK.WAV</td></tr>
<tr><td>dd9ce24759ac8ddf5e09f6b848c5dd71cd9a1b6c</td><td>./SFX/SWITCH-3.WAV</td></tr>
<tr><td>3d0f7ad1aa43aa7d2e8daf3c509d307185fd252e</td><td>./SFX/R2D2-2.WAV</td></tr>
<tr><td>d55ff1a47a2a1a08c26990a713e2310546461703</td><td>./SFX/BONG.WAV</td></tr>
<tr><td>d7e352947ee21ef48b1f020c42c999820caa176d</td><td>./SFX/R2D2-1.WAV</td></tr>
<tr><td>bdc3addce338d60d2b4e4fe3452508fcfdd0f7a4</td><td>./SFX/SABER.WAV</td></tr>
<tr><td>3fb938e254ba8b9426b38857d02de48c998db9a2</td><td>./SFX/XWINGIN.WAV</td></tr>
<tr><td>9e2f78a639a27685f9184eef514af521d3f9223b</td><td>./SFX/BLEEPSML.WAV</td></tr>
<tr><td>9920d7446a2f259f0a62dffd0e61e30fb7eb4dfd</td><td>./SFX/BUZZHIGH.WAV</td></tr>
<tr><td>5b5e4581d77527afc79163fdcc31f0b4ded65005</td><td>./SFX/CHESTSML.WAV</td></tr>
<tr><td>b710cd2f427f742ee1202adf04d9caf242ea6026</td><td>./SFX/SWITCH-8.WAV</td></tr>
<tr><td>3f2d782c4788ae1bfeed65103863c274d9978649</td><td>./SFX/TIEBY.WAV</td></tr>
<tr><td>833757378d9e8ad02c0a441439349402c627328d</td><td>./SFX/IMPBLST.WAV</td></tr>
<tr><td>419cc1734f33953219b94d9316f2780a1655aa7d</td><td>./SFX/BLIP.WAV</td></tr>
<tr><td>b55808ae16478322f62b3a510b5618addca12cfc</td><td>./SFX/SABERSWG.WAV</td></tr>
<tr><td>c7bde605481cc7450397fc966d2edcf949eddaf2</td><td>./SFX/XWINGOUT.WAV</td></tr>
<tr><td>3f8f63d62dababaed9c9fd0da3c5687fc8d6d91c</td><td>./SFX/TRUCKOUT.WAV</td></tr>
<tr><td>79a9a56abd0525f2e2980009a8ae313cd91f382c</td><td>./SFX/FLOURISH.WAV</td></tr>
<tr><td>2722f7599fe8ac7e4d3876276aea3c71fdd53327</td><td>./SFX/CHIRP.WAV</td></tr>
<tr><td>75b1ebef0a2b29f14d787fe6ca8af3d2fc15af5b</td><td>./SFX/OPENING.WAV</td></tr>
<tr><td>37e222b09f2b1cf86dfbbac5cd06ce1d7bb79c11</td><td>./SFX/SPLASH.WAV</td></tr>
<tr><td>2d4d0af951307083b7cce9840e7ee4d3013d2590</td><td>./SFX/RIFLBLST.WAV</td></tr>
<tr><td>ccbe0e1d23f353e2ff5f8a50a41cbf3e1b62285a</td><td>./SFX/MAPCLS.WAV</td></tr>
<tr><td>65f50467bd6331d13498d547c9d08dc00b2ebcca</td><td>./SFX/XWINGBY.WAV</td></tr>
<tr><td>7640aefae2ec587bfeeb3456a66fa57e6d3b6d06</td><td>./SFX/CRASH.WAV</td></tr>
<tr><td>ebddf621f032f619d14b3b4eae2296fe58413efa</td><td>./SFX/BANGMED.WAV</td></tr>
<tr><td>e8febb3a41d4eef2587dad9cd5e2719d7392635d</td><td>./SFX/PUSH.WAV</td></tr>
<tr><td>cd5db260b3b0879e48064c65eee061942f955ced</td><td>./SFX/NOGO.WAV</td></tr>
<tr><td>5e7bc1330365191feecd53d8595ee1da96b74b85</td><td>./SFX/MOVEROCK.WAV</td></tr>
<tr><td>b1e5be033b13b24806ea961f7998fdffe2f81803</td><td>./SFX/DOORPNUM.WAV</td></tr>
<tr><td>6c22a68c21e6f5f1c1575fc070f14767e3759a58</td><td>./YODESK.CNT</td></tr>
<tr><td>13e914ad378bcef9a7b030200e0dc7a66c078473</td><td>./WAVEMIX.INI</td></tr>
<tr><td>b6d1ac4d9f165403898531341d13885c770d4177</td><td>./MSVCRT40.DLL</td></tr>
<tr><td>64cf1eb8c83cc50f9f44ff3c3292a86b36768f9d</td><td>./YODESK.HLP</td></tr>
<tr><td>21265b5d3d600ecd9869a88c70096b3e0ea3c6b2</td><td>./WAVMIX32.DLL</td></tr>
<tr><td>967ea881be2c7c5df9e5742722fe8e448592652f</td><td>./yodesk.dta</td></tr>
</tbody></table>
<h3 id="yoda-stories-demo-english"><a class="header" href="#yoda-stories-demo-english">Yoda Stories Demo (English)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>425b04cc5e1fd5d3da477a8314246baf161daffc</td><td>./YodaDemo.hlp</td></tr>
<tr><td>46734006c8e08faa15d2b2c2e32834ba9e3622ac</td><td>./YodaDemo.dta</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./sfx/hurt.wav</td></tr>
<tr><td>52c2476718520cc52b47e8e1966f803e888bdf0a</td><td>./sfx/grenade.wav</td></tr>
<tr><td>85314d0afd63b32c5cd9810f7a43a05e293d2247</td><td>./sfx/chestlrg.wav</td></tr>
<tr><td>d5e3f378b894a8ee179e2a2d7e17eb86d9c267bd</td><td>./sfx/buzzmed.wav</td></tr>
<tr><td>31d60649b6797626e38421b32a27eac6a9c84df6</td><td>./sfx/mystery.wav</td></tr>
<tr><td>8a397e81ea87985ebe0244414ab21ad47d7228f9</td><td>./sfx/walker.wav</td></tr>
<tr><td>d5b4c7eec94b3c88f33f792db74b539829ef21e3</td><td>./sfx/cantina.wav</td></tr>
<tr><td>200886036f2af0e382e9b3986542e35662f99929</td><td>./sfx/locator.wav</td></tr>
<tr><td>b0ada8bbd7c352a2b489faa9fdb640abc8cd220a</td><td>./sfx/pistol.wav</td></tr>
<tr><td>4e64a3a79a879c91c35bf614e5b81965ecf434eb</td><td>./sfx/buzzlow.wav</td></tr>
<tr><td>7c45cbecd946fee69b515bb01c436bd82acc0d14</td><td>./sfx/emptheme.wav</td></tr>
<tr><td>e8e40ba4bd82630434b826a3265edc8549ae34b3</td><td>./sfx/wookie.wav</td></tr>
<tr><td>7791b4cad2437e10169c1f60d47a0fae953f167a</td><td>./sfx/armforce.wav</td></tr>
<tr><td>40e6664e59ed24e7107d5785e6bf72375546e576</td><td>./sfx/blaster.wav</td></tr>
<tr><td>1d301d467868f8727e7327a81e6dc0a4ac4d7a9c</td><td>./sfx/doorelec.wav</td></tr>
<tr><td>72d23409767760589c08e52495ab4136e5af1ee6</td><td>./sfx/saberout.wav</td></tr>
<tr><td>ef059f05dcb04d32f0af1fbd7163b962e6e4fd0d</td><td>./sfx/rifle.wav</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./sfx/switch-7.wav</td></tr>
<tr><td>5c8c54eb51f19cdb0e3745e30cf5d9dccdb25151</td><td>./sfx/switch-6.wav</td></tr>
<tr><td>caa7ad2b6e00e02ebb8f136c33d372a0bb7d8b1c</td><td>./sfx/vader.wav</td></tr>
<tr><td>071bd82aff663e50aa78e8d3fe2001f6aab1f7d8</td><td>./sfx/eep.wav</td></tr>
<tr><td>978cebdf7023a24acd2b0e0795c034da1c9e47b3</td><td>./sfx/banghuge.wav</td></tr>
<tr><td>717b92788485092181957614fd3b156f4549b51c</td><td>./sfx/switch-4.wav</td></tr>
<tr><td>3191a59954f98347c55be705c27064d1c96ce825</td><td>./sfx/switch-5.wav</td></tr>
<tr><td>9bd9dbe0bac4fe541c620bac501cfbaf179a29ce</td><td>./sfx/truckin.wav</td></tr>
<tr><td>46323d03602a3d97a8b46bebf68cd5dcdc6ad0cc</td><td>./sfx/switch-1.wav</td></tr>
<tr><td>e0ab059defcc74c0f44c246750f442203930471a</td><td>./sfx/speeder.wav</td></tr>
<tr><td>8e9962d0069c0b74c07ce61005bf9dc3003b9f9c</td><td>./sfx/banglrg.wav</td></tr>
<tr><td>55ebccfc7ea4327ffda2607e081c4d99fcccdc5d</td><td>./sfx/hugedoor.wav</td></tr>
<tr><td>7af931273d6374af73538b1580ff04f287de6ded</td><td>./sfx/schwing.wav</td></tr>
<tr><td>1b4293242d61461914623ffad36867537ab199d5</td><td>./sfx/transprt.wav</td></tr>
<tr><td>7995af7e4cd2b97e5419e1ea93dfcb5eb7c356c8</td><td>./sfx/tryagain.wav</td></tr>
<tr><td>5f384cd6565305544f06f650a64b01f4f15c4bbb</td><td>./sfx/switch-2.wav</td></tr>
<tr><td>690c39b1ea1cdf86e28cf1335cb620c3ba92727a</td><td>./sfx/youwin.wav</td></tr>
<tr><td>97269a0f50b7bf37530d4c0b7ec0ce9089c8718d</td><td>./sfx/force.wav</td></tr>
<tr><td>5687e94a1faac7dbe75881e9dd6c1c8fe031984d</td><td>./sfx/armed.wav</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./sfx/shpoonk.wav</td></tr>
<tr><td>dd9ce24759ac8ddf5e09f6b848c5dd71cd9a1b6c</td><td>./sfx/switch-3.wav</td></tr>
<tr><td>3d0f7ad1aa43aa7d2e8daf3c509d307185fd252e</td><td>./sfx/r2d2-2.wav</td></tr>
<tr><td>d55ff1a47a2a1a08c26990a713e2310546461703</td><td>./sfx/bong.wav</td></tr>
<tr><td>d7e352947ee21ef48b1f020c42c999820caa176d</td><td>./sfx/r2d2-1.wav</td></tr>
<tr><td>bdc3addce338d60d2b4e4fe3452508fcfdd0f7a4</td><td>./sfx/saber.wav</td></tr>
<tr><td>3fb938e254ba8b9426b38857d02de48c998db9a2</td><td>./sfx/xwingin.wav</td></tr>
<tr><td>9e2f78a639a27685f9184eef514af521d3f9223b</td><td>./sfx/bleepsml.wav</td></tr>
<tr><td>9920d7446a2f259f0a62dffd0e61e30fb7eb4dfd</td><td>./sfx/buzzhigh.wav</td></tr>
<tr><td>5b5e4581d77527afc79163fdcc31f0b4ded65005</td><td>./sfx/chestsml.wav</td></tr>
<tr><td>b710cd2f427f742ee1202adf04d9caf242ea6026</td><td>./sfx/switch-8.wav</td></tr>
<tr><td>3f2d782c4788ae1bfeed65103863c274d9978649</td><td>./sfx/tieby.wav</td></tr>
<tr><td>833757378d9e8ad02c0a441439349402c627328d</td><td>./sfx/impblst.wav</td></tr>
<tr><td>419cc1734f33953219b94d9316f2780a1655aa7d</td><td>./sfx/blip.wav</td></tr>
<tr><td>b55808ae16478322f62b3a510b5618addca12cfc</td><td>./sfx/saberswg.wav</td></tr>
<tr><td>c7bde605481cc7450397fc966d2edcf949eddaf2</td><td>./sfx/xwingout.wav</td></tr>
<tr><td>3f8f63d62dababaed9c9fd0da3c5687fc8d6d91c</td><td>./sfx/truckout.wav</td></tr>
<tr><td>79a9a56abd0525f2e2980009a8ae313cd91f382c</td><td>./sfx/flourish.wav</td></tr>
<tr><td>2722f7599fe8ac7e4d3876276aea3c71fdd53327</td><td>./sfx/chirp.wav</td></tr>
<tr><td>75b1ebef0a2b29f14d787fe6ca8af3d2fc15af5b</td><td>./sfx/opening.wav</td></tr>
<tr><td>37e222b09f2b1cf86dfbbac5cd06ce1d7bb79c11</td><td>./sfx/splash.wav</td></tr>
<tr><td>2d4d0af951307083b7cce9840e7ee4d3013d2590</td><td>./sfx/riflblst.wav</td></tr>
<tr><td>ccbe0e1d23f353e2ff5f8a50a41cbf3e1b62285a</td><td>./sfx/mapcls.wav</td></tr>
<tr><td>65f50467bd6331d13498d547c9d08dc00b2ebcca</td><td>./sfx/xwingby.wav</td></tr>
<tr><td>7640aefae2ec587bfeeb3456a66fa57e6d3b6d06</td><td>./sfx/crash.wav</td></tr>
<tr><td>ebddf621f032f619d14b3b4eae2296fe58413efa</td><td>./sfx/bangmed.wav</td></tr>
<tr><td>e8febb3a41d4eef2587dad9cd5e2719d7392635d</td><td>./sfx/push.wav</td></tr>
<tr><td>cd5db260b3b0879e48064c65eee061942f955ced</td><td>./sfx/nogo.wav</td></tr>
<tr><td>5e7bc1330365191feecd53d8595ee1da96b74b85</td><td>./sfx/moverock.wav</td></tr>
<tr><td>b1e5be033b13b24806ea961f7998fdffe2f81803</td><td>./sfx/doorpnum.wav</td></tr>
<tr><td>13e914ad378bcef9a7b030200e0dc7a66c078473</td><td>./wavemix.ini</td></tr>
<tr><td>b6d1ac4d9f165403898531341d13885c770d4177</td><td>./MSVCRT40.DLL</td></tr>
<tr><td>d44d3a01bdb0cee31163466ba91614eba8ffc21d</td><td>./YodaDemo.cnt</td></tr>
<tr><td>21265b5d3d600ecd9869a88c70096b3e0ea3c6b2</td><td>./wavmix32.dll</td></tr>
<tr><td>07d1ce2f03e8596b068f1972c897f2615ca83743</td><td>./YodaDemo.exe</td></tr>
</tbody></table>
<h2 id="indiana-jones-and-his-desktop-adventures"><a class="header" href="#indiana-jones-and-his-desktop-adventures">Indiana Jones and his Desktop Adventures</a></h2>
<h3 id="indiana-jones-and-his-desktop-adventures-english"><a class="header" href="#indiana-jones-and-his-desktop-adventures-english">Indiana Jones and his Desktop Adventures (English)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>4095a9168865b07f09f19d82d33c6f31c8f065f8</td><td>./WHIP.WAV</td></tr>
<tr><td>8230c23a28266b2f1ae919d8827b3da41ca071d3</td><td>./ROAR.WAV</td></tr>
<tr><td>893ef56002780a810f86b0ef25bac36056ac1f70</td><td>./GUNSHOT.WAV</td></tr>
<tr><td>add15e7a707f6a9bdad4315d4ea4122616f998d0</td><td>./DESKADV.EXE</td></tr>
<tr><td>6a854968594d232d83e8dc6938f89d6509eae715</td><td>./ARROW.WAV</td></tr>
<tr><td>a0f074324ae7f26ad3432204c4f956bd021c2f6d</td><td>./THEME.MID</td></tr>
<tr><td>4956f47846c4b0cb07eb58b995149c10948586b6</td><td>./THEMW3.MID</td></tr>
<tr><td>834a2ad22aef7ddbede869bced2e4c7a00cdb0c9</td><td>./EXPLODE.WAV</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./INDYHURT.WAV</td></tr>
<tr><td>5d5d3f95816e8ab39b899fda5e8922b039fbc43b</td><td>./EEP.WAV</td></tr>
<tr><td>5ae192363d2cb894ed8b3581dc7d485e90e2b9d1</td><td>./MACHETE.WAV</td></tr>
<tr><td>6eb197cbcfb06848662c7e2fea2211c0abf03693</td><td>./VICTORY.MID</td></tr>
<tr><td>ef9e4f363a8692509632ecde4ab9436ea081f31f</td><td>./SCHWING.WAV</td></tr>
<tr><td>8bfc1b0ff35a1274c424fb354820e8c808fb0133</td><td>./EERIE.MID</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SHPOONK.WAV</td></tr>
<tr><td>829675f1515db77378f0704619fe68dbaf51a8eb</td><td>./SPEAR.WAV</td></tr>
<tr><td>8d911b8fb12f2b1a7334c05ac786fbe8074fbff6</td><td>./DESKTOP.DAW</td></tr>
<tr><td>5b85e81efdcb70c62a2c6d97b0afac4f674a7e27</td><td>./FLOURISH.MID</td></tr>
<tr><td>9f83ecdfe7e66893837daca54d66cdfe3a2fc7c6</td><td>./WALLPPR.BMP</td></tr>
<tr><td>d886abc61fe71bd816fc9a32bf6ff55fbd331ba7</td><td>./DESKADV.HLP</td></tr>
<tr><td>f32bc99e42cf6de9234004aeeca035492ba17d57</td><td>./DEFEAT.MID</td></tr>
<tr><td>5be5f69e44d346041f65e2f93ac8c40ccf3d5738</td><td>./PUSH.WAV</td></tr>
<tr><td>5fa53bc8756a5876bfdd1ed0b19d25be49bbd4b5</td><td>./NOGO.WAV</td></tr>
<tr><td>9f0b6e7da8b3e12833fa4802411ff632fb7a60f7</td><td>./DOOR.WAV</td></tr>
<tr><td>75f4180fd4e8435c8b151509393b2dd6a1ed283a</td><td>./SWITCH.WAV</td></tr>
</tbody></table>
<h3 id="indiana-jones-and-his-desktop-adventures-french"><a class="header" href="#indiana-jones-and-his-desktop-adventures-french">Indiana Jones and his Desktop Adventures (French)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>4095a9168865b07f09f19d82d33c6f31c8f065f8</td><td>./WHIP.WAV</td></tr>
<tr><td>8230c23a28266b2f1ae919d8827b3da41ca071d3</td><td>./ROAR.WAV</td></tr>
<tr><td>893ef56002780a810f86b0ef25bac36056ac1f70</td><td>./GUNSHOT.WAV</td></tr>
<tr><td>f945b03e6259fde34c50e8baf23e5c005a7ed510</td><td>./DESKADV.EXE</td></tr>
<tr><td>6a854968594d232d83e8dc6938f89d6509eae715</td><td>./ARROW.WAV</td></tr>
<tr><td>a0f074324ae7f26ad3432204c4f956bd021c2f6d</td><td>./THEME.MID</td></tr>
<tr><td>4956f47846c4b0cb07eb58b995149c10948586b6</td><td>./THEMW3.MID</td></tr>
<tr><td>834a2ad22aef7ddbede869bced2e4c7a00cdb0c9</td><td>./EXPLODE.WAV</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./INDYHURT.WAV</td></tr>
<tr><td>5d5d3f95816e8ab39b899fda5e8922b039fbc43b</td><td>./EEP.WAV</td></tr>
<tr><td>5ae192363d2cb894ed8b3581dc7d485e90e2b9d1</td><td>./MACHETE.WAV</td></tr>
<tr><td>6eb197cbcfb06848662c7e2fea2211c0abf03693</td><td>./VICTORY.MID</td></tr>
<tr><td>ef9e4f363a8692509632ecde4ab9436ea081f31f</td><td>./SCHWING.WAV</td></tr>
<tr><td>8bfc1b0ff35a1274c424fb354820e8c808fb0133</td><td>./EERIE.MID</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SHPOONK.WAV</td></tr>
<tr><td>829675f1515db77378f0704619fe68dbaf51a8eb</td><td>./SPEAR.WAV</td></tr>
<tr><td>23a4eb2332c3d90e3e71b531034309ee207266b6</td><td>./DESKTOP.DAW</td></tr>
<tr><td>5b85e81efdcb70c62a2c6d97b0afac4f674a7e27</td><td>./FLOURISH.MID</td></tr>
<tr><td>9f83ecdfe7e66893837daca54d66cdfe3a2fc7c6</td><td>./WALLPPR.BMP</td></tr>
<tr><td>c96ec6315d4de9dbc6ea8e8bc32150f961fb0d07</td><td>./DESKADV.HLP</td></tr>
<tr><td>f32bc99e42cf6de9234004aeeca035492ba17d57</td><td>./DEFEAT.MID</td></tr>
<tr><td>5be5f69e44d346041f65e2f93ac8c40ccf3d5738</td><td>./PUSH.WAV</td></tr>
<tr><td>5fa53bc8756a5876bfdd1ed0b19d25be49bbd4b5</td><td>./NOGO.WAV</td></tr>
<tr><td>9f0b6e7da8b3e12833fa4802411ff632fb7a60f7</td><td>./DOOR.WAV</td></tr>
<tr><td>75f4180fd4e8435c8b151509393b2dd6a1ed283a</td><td>./SWITCH.WAV</td></tr>
</tbody></table>
<h3 id="indiana-jones-and-his-desktop-adventures-spanish"><a class="header" href="#indiana-jones-and-his-desktop-adventures-spanish">Indiana Jones and his Desktop Adventures (Spanish)</a></h3>
<table><thead><tr><th>sha1</th><th>Common Name</th></tr></thead><tbody>
<tr><td>4095a9168865b07f09f19d82d33c6f31c8f065f8</td><td>./WHIP.WAV</td></tr>
<tr><td>8230c23a28266b2f1ae919d8827b3da41ca071d3</td><td>./ROAR.WAV</td></tr>
<tr><td>893ef56002780a810f86b0ef25bac36056ac1f70</td><td>./GUNSHOT.WAV</td></tr>
<tr><td>c996f07955175daea25d8a1dbe571d48851cf7d9</td><td>./DESKADV.EXE</td></tr>
<tr><td>6a854968594d232d83e8dc6938f89d6509eae715</td><td>./ARROW.WAV</td></tr>
<tr><td>a0f074324ae7f26ad3432204c4f956bd021c2f6d</td><td>./THEME.MID</td></tr>
<tr><td>4956f47846c4b0cb07eb58b995149c10948586b6</td><td>./THEMW3.MID</td></tr>
<tr><td>834a2ad22aef7ddbede869bced2e4c7a00cdb0c9</td><td>./EXPLODE.WAV</td></tr>
<tr><td>6a03617143cb01d69fa50589e192f59b787d5ca8</td><td>./INDYHURT.WAV</td></tr>
<tr><td>5d5d3f95816e8ab39b899fda5e8922b039fbc43b</td><td>./EEP.WAV</td></tr>
<tr><td>5ae192363d2cb894ed8b3581dc7d485e90e2b9d1</td><td>./MACHETE.WAV</td></tr>
<tr><td>6eb197cbcfb06848662c7e2fea2211c0abf03693</td><td>./VICTORY.MID</td></tr>
<tr><td>ef9e4f363a8692509632ecde4ab9436ea081f31f</td><td>./SCHWING.WAV</td></tr>
<tr><td>8bfc1b0ff35a1274c424fb354820e8c808fb0133</td><td>./EERIE.MID</td></tr>
<tr><td>8e6b3a02e9fa3293b87899336a8189568bb8bbf4</td><td>./SHPOONK.WAV</td></tr>
<tr><td>829675f1515db77378f0704619fe68dbaf51a8eb</td><td>./SPEAR.WAV</td></tr>
<tr><td>ac2e926c2a7374197d299d4b7625ed118bc7fbda</td><td>./DESKTOP.DAW</td></tr>
<tr><td>5b85e81efdcb70c62a2c6d97b0afac4f674a7e27</td><td>./FLOURISH.MID</td></tr>
<tr><td>73649fb9f2a773505a06c31a8e024eec3c5e7552</td><td>./WALLPPR.BMP</td></tr>
<tr><td>e709998bac74b08ad507a742bbbf8c20a5899fc0</td><td>./DESKADV.HLP</td></tr>
<tr><td>f32bc99e42cf6de9234004aeeca035492ba17d57</td><td>./DEFEAT.MID</td></tr>
<tr><td>5be5f69e44d346041f65e2f93ac8c40ccf3d5738</td><td>./PUSH.WAV</td></tr>
<tr><td>5fa53bc8756a5876bfdd1ed0b19d25be49bbd4b5</td><td>./NOGO.WAV</td></tr>
<tr><td>9f0b6e7da8b3e12833fa4802411ff632fb7a60f7</td><td>./DOOR.WAV</td></tr>
<tr><td>75f4180fd4e8435c8b151509393b2dd6a1ed283a</td><td>./SWITCH.WAV</td></tr>
</tbody></table>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/cyco/webfun//edit/master/docs/src/appendix/list-of-game-files.md">Edit this file on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
