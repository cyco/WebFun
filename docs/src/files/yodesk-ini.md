Yodesk.ini
==========

Data that persists between launches of a *Desktop Adventures* game, like settings, highscore and information about the last generated worlds is stored in a ini-file.

| Variant           | Path                      |
|-------------------|---------------------------|
| Yoda Stories      | `C:\Windows\Yodesk.ini`   |
| Yoda Stories Demo | `C:\Windows\YodaDemo.ini` |
| Indy's Adventures | `C:\Windows\Deskadv.ini`  |
| Indy's Demo       |                           |

The file is a standard [INI file](https://en.wikipedia.org/wiki/INI_file) with the sections `OPTIONS`, `GameData` and `Recent File List`.

The following is a sample file generated by `Yoda Stories`:

```ini
{{#include yodesk.ini}}
```

Options section
---------------

| Key                  | Description                                                                                                                                                     |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Settings**         |                                                                                                                                                                 |
| MIDILoad             |                                                                                                                                                                 |
| PlaySound            | Setting                                                                                                                                                         |
| PlayMusic            | Setting                                                                                                                                                         |
| Difficulty           | Setting, values range from                                                                                                                                      |
| GameSpeed            | Setting, values range from                                                                                                                                      |
| WorldSize            | Setting, values range from                                                                                                                                      |
| **Score**            |                                                                                                                                                                 |
| Count                | Number of worlds generated                                                                                                                                      |
| HScore               | Highest score                                                                                                                                                   |
| LScore               | Last score                                                                                                                                                      |
| LCount               | Number of lost games                                                                                                                                            |
| **World Generation** |                                                                                                                                                                 |
| Terrain              | Last terrain used to generate a world. The next world is determined based on this value. *Since Indy's Adventures only have on terrain this value is not used.* |

GameData section
----------------

The `GameData` section is used to keep track of the end puzzles last used on each planet. When a new world on the planet is generated, these puzzles are excluded. This is supposed to increase variety between consecutive games so the player get different endings every time.

Each entry holds a comma separated list. The first entry is the last used PRNG seed, written out as a `32`-bit integer, eventhough only `16`-bits are used. The second number is a random value between `1` and `256` that is added to the puzzle ids. The third value is the number of puzzle ids, followed by the actual end puzzle ids that are to be excluded, each offset by the random value generated before.

| Key     | Mapping | Comment                  |
|---------|---------|--------------------------|
| Alaska  | Yoda    | Ice planet (Hoth)        |
| Nevada  | Yoda    | Desert planet (Tatooine) |
| Oregon  | Yoda    | Forest planet (Endor)    |
| Hawaii  | Indy    |                          |
| Wyoming | Indy    |                          |
